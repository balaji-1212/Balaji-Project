!function(a){"use strict";a(".mpc-vc-align").each(function(){var b=a(this),c=b.siblings(".mpc-value"),d=b.find(".mpc-align-radio");b.on("change",".mpc-align-radio",function(){c.val(a(this).val())}),c.on("change",function(){d.filter('[value="'+c.val()+'"]').click()})})}(jQuery),function(a){"use strict";a(".wpb_el_type_mpc_animation").each(function(){var b,c=a(this),d=c.find(".mpc-vc-animation"),e=c.find(".mpc-inner-box");c.find(".mpc-animation-replay").on("click",function(){var f=c.attr("data-vc-shortcode-param-name").replace("_type",""),g=parseInt(a('input[name="'+f+'_duration"]').val());""!=(b=d.val())&&(("fadeIn"===b||/In$/.test(b))&&e.velocity("stop").velocity({opacity:0},{duration:g}),e.velocity("stop").velocity(b,{duration:g}),("fadeOut"===b||/Out$/.test(b))&&e.velocity("stop").velocity({opacity:1},{display:"block",duration:g}))}),d.on("change",function(){var f=c.attr("data-vc-shortcode-param-name").replace("_type",""),g=parseInt(a('input[name="'+f+'_duration"]').val());""!=(b=d.val())&&(("fadeIn"===b||/In$/.test(b))&&e.velocity("stop").velocity({opacity:0},{duration:g}),e.velocity("stop").velocity(b,{duration:g}),("fadeOut"===b||/Out$/.test(b))&&e.velocity("stop").velocity({opacity:1},{display:"block",duration:g}))})})}(jQuery),function(a){"use strict";a("#vc_ui-panel-edit-element").one("mpc.render",function(){a(".vc_wrapper-param-type-mpc_colorpicker input").each(function(){a(this).colorPicker()})})}(jQuery),function(a){"use strict";function b(b,c,d,e){var f=h();if(""==f)return void k(c);i(c,!0),a.post(ajaxurl,{action:"mpc_new_shortcode_content",shortcode:d,name:b,content:f,wp_nonce:e}).done(function(a){a.success?(c.find(".mpc-contents--user").length||c.find(".mpc-base-option").after('<optgroup class="mpc-contents--user" label="'+q.text()+'">').after(c.find(".default")),c.find(".mpc-contents--user").append(a.markup),c.val(a.id).trigger("mpc.update")):j(c)}).fail(function(){j(c)}).always(function(){i(c,!1)})}function c(b,c,d,e){var f=b.val();""!=f?(i(b,!0),b.removeClass("mpc-empty"),a.post(ajaxurl,{action:"mpc_load_shortcode_content",shortcode:c,id:f,wp_nonce:e}).done(function(a){a.success&&g(a.content,d)||j(b)}).fail(function(){j(b)}).always(function(){i(b,!1),_mpc_vars.$body.trigger("mpc.content_loaded")})):b.addClass("mpc-empty")}function d(b,c,d){if(""!=b.val()){if(confirm(_mpc_lang.mpc_content.save_confirm+'"'+b.find(":selected").text()+'"')){var e=h();if(""==e)return void k(b);i(b,!0);var f=b.val();a.post(ajaxurl,{action:"mpc_save_shortcode_content",shortcode:c,id:f,content:e,wp_nonce:d}).done(function(a){a.success||j(b)}).fail(function(){j(b)}).always(function(){i(b,!1)})}}else b.addClass("mpc-empty")}function e(b,c,d,e,f){i(d,!0),a.post(ajaxurl,{action:"mpc_rename_shortcode_content",shortcode:e,id:c,name:b,wp_nonce:f}).done(function(a){a.success?d.find(":selected").text(b):j(d)}).fail(function(){j(d)}).always(function(){i(d,!1)})}function f(b,c,d){""!=b.val()?confirm(_mpc_lang.mpc_content.delete_confirm+'"'+b.find(":selected").text()+'"')&&(i(b,!0),a.post(ajaxurl,{action:"mpc_delete_shortcode_content",shortcode:c,id:b.val(),wp_nonce:d}).done(function(a){a.success?b.find(":selected").remove().end().val("").trigger("mpc.update"):j(b)}).fail(function(){j(b)}).always(function(){i(b,!1)})):b.addClass("mpc-empty")}function g(a,b){var c=/^\[[\s\S]*]$/m,d=/tab_id="/g,e=/tab_id="\d*-/g;if(!c.test(a)||void 0===vc.active_panel||void 0===vc.active_panel.model)return!1;d.test(a)&&(a=a.replace(e,'tab_id="'+time()+"-"));var f=vc.storage.parseContent({},a,!!_.isObject(vc.active_panel.model)&&vc.active_panel.model.toJSON());if("prepend"==b)var g=vc.add_element_block_view.getFirstPositionIndex()-_.size(f);else if("replace"==b){var h=vc.shortcodes.where({parent_id:vc.active_panel.model.get("id")});-1!=["mpc_tabs","mpc_flipbox","mpc_cubebox"].indexOf(vc.active_panel.model.get("shortcode"))&&vc.active_panel.model.view.clearTabs(),h.forEach(function(a){a.destroy()})}return _.each(_.values(f),function(a){"prepend"==b&&(a.order=g++),vc.shortcodes.create(a)},this),!0}function h(){var a="";return void 0!==vc.active_panel&&void 0!==vc.active_panel.model&&(a=vc.shortcodes._getShortcodeContent(vc.active_panel.model)),a}function i(a,b){b?(a.siblings(".mpc-ajax").addClass("mpc-active"),m.fadeIn()):(a.siblings(".mpc-ajax").removeClass("mpc-active"),m.fadeOut())}function j(a){a.siblings(".mpc-error").stop(!0).fadeIn().delay(3e3).fadeOut()}function k(a){a.siblings(".mpc-warning").stop(!0).fadeIn().delay(3e3).fadeOut()}function l(a,b,c){return!b&&c?a.stop(!0).slideDown():b&&!c&&a.slideUp(),c}var m=a(".mpc-ajax-overlay");0==m.length&&(m=a('<div class="mpc-ajax-overlay" />'),m.appendTo("#vc_ui-panel-edit-element .vc_ui-panel-content-container"));var n=a("#vc_ui-panel-edit-element"),o=a(".mpc-content-select"),p=a("#mpc_contents_previews"),q=p.find(".mpc-contents-section.mpc-contents--user"),r=p.find(".mpc-contents-section.mpc-contents--premade"),s=n.is('[data-vc-shortcode^="vc_column"], [data-vc-shortcode^="vc_row"]');n.one("mpc.render",function(){o.each(function(){var b=a(this),c=b.attr("data-shortcode"),d=b.attr("data-wp_nonce");a.post(ajaxurl,{action:"mpc_get_shortcode_contents",shortcode:c,wp_nonce:d},function(a){""!=a&&b.append(a),b.trigger("mpc.loaded").val(b.attr("data-selected")).trigger("change"),b.siblings(".mpc-init-overlay").fadeOut(),b.siblings(".mpc-ajax").removeClass("mpc-active")})})}),o.each(function(){function g(b,c,d){var e=!1;b.eq(d).MPCwaypoint({handler:function(){e||(e=!0,b.slice(d,d+8).each(function(){var b=a(this);b.attr("src",F+b.attr("data-src"))}),b.length>d&&setTimeout(function(){g(b,c,d+8)},250))},context:c,offset:"100%"})}var h=a(this),i=h.parent(),j=h.siblings(".mpc-preview"),k=i.find(".mpc-load.mpc-vc-button"),m=i.find(".mpc-save.mpc-vc-button"),o=i.find(".mpc-new.mpc-vc-button"),t=i.find(".mpc-rename.mpc-vc-button"),u=i.find(".mpc-delete.mpc-vc-button"),v=h.siblings(".mpc-name"),w=v.children(".mpc-accept.mpc-vc-button"),x=v.children(".mpc-cancel.mpc-vc-button"),y=v.find(".mpc-content-name"),z=i.find(".mpc-rename.mpc-vc-button, .mpc-delete.mpc-vc-button, .mpc-save.mpc-vc-button, .mpc-load.mpc-vc-button"),A=h.siblings(".mpc-placement"),B="",C=h.attr("data-shortcode"),D=h.attr("data-wp_nonce"),E=h.attr("data-placeholder"),F=h.attr("data-baseurl"),G="1"==h.attr("data-extended"),H="",I="",J=[],K=!1;if(s){var L=n.find(".vc_wrapper-param-type-mpc_preset");h.style_select=L.find(".mpc-preset-select"),h.style_new=L.find(".mpc-vc-button.mpc-new"),h.style_save=L.find(".mpc-vc-button.mpc-save"),h.style_load=L.find(".mpc-vc-button.mpc-load"),h.style_delete=L.find(".mpc-vc-button.mpc-delete"),h.style_accept=L.find(".mpc-vc-button.mpc-accept"),h.style_cancel=L.find(".mpc-vc-button.mpc-cancel"),h.style_name=L.find(".mpc-preset-name"),h.style_dyn_name=L.find(".mpc-preset-dynamic-name")}h.on("change",function(){if(H=h.val(),h.removeClass("mpc-empty"),x.trigger("click"),""==h.val()?z.addClass("mpc-hidden"):z.removeClass("mpc-hidden"),s&&null!==H)if(h.style_select.is(".mpc-loaded-values"))0==h.style_select.find('option[value="'+H.substr(1)+'"]').length&&h.find('option[value="'+H+'"]').clone().val(H.substr(1)).attr("class",H.substr(1)).appendTo(h.style_select),h.style_dyn_name.val(h.find('option[value="'+H+'"]').text()),h.style_select.val(H.substr(1)).trigger("change");else{var a;a=setInterval(function(){h.style_select.is(".mpc-loaded-values")&&(0==h.style_select.find('option[value="'+H.substr(1)+'"]').length&&h.find('option[value="'+H+'"]').clone().val(H.substr(1)).attr("class",H.substr(1)).appendTo(h.style_select),h.style_dyn_name.val(h.find('option[value="'+H+'"]').text()),h.style_select.val(H.substr(1)).trigger("change"),clearInterval(a))},250)}}).on("mpc.update",function(){H=h.val(),h.removeClass("mpc-empty"),J=[],h.children().each(function(){J.push(a(this).text())}),""==h.val()?z.addClass("mpc-hidden"):z.removeClass("mpc-hidden")}).on("mpc.loaded",function(){h.children().each(function(){J.push(a(this).text())}),h.children('[value^="_preset_"]').wrapAll('<optgroup class="mpc-contents--user" label="'+q.text()+'">'),h.children('[value^="_mpc_preset_"]').wrapAll('<optgroup label="'+r.text()+'">')}),j.on("click",function(){p.is(".mpc-modal-init")&&(p.removeClass("mpc-modal-init"),p.dialog({title:p.attr("data-title"),dialogClass:"mpc-contents-modal",show:!0,hide:!0,modal:!0,resizable:!1,width:510,height:600,autoOpen:!1,closeOnEscape:!0}),p.on("click",".mpc-content-preview",function(b){b.preventDefault(),p.dialog("option","target").val(a(this).attr("data-preset-name")).trigger("change"),p.dialog("close"),p.dialog("option","load_button").trigger("click")})),"1"==h.attr("data-wide-modal")?p.addClass("mpc-wide-modal"):p.removeClass("mpc-wide-modal"),p.dialog("option","target",h),p.dialog("option","load_button",k),p.find(".mpc-content-preview").remove(),h.find("option:not(.mpc-base-option)").each(function(){var b=a(this),c="",d=b.attr("data-content-image");d=d?'<img src="'+E+'" data-src="'+d+'">':"",c+='<a href="#" class="mpc-content-preview" data-preset-name="'+b.val()+'">',c+=d,c+="<p>"+b.text()+"</p>",c+="</a>",p.append(c)});var b=p.find('.mpc-content-preview[data-preset-name^="_preset"]');b.length?(q.removeClass("mpc-hidden"),b.first().before(q)):q.addClass("mpc-hidden"),b=p.find('.mpc-content-preview[data-preset-name^="_mpc_preset"]'),b.length?(r.removeClass("mpc-hidden"),b.first().before(r)):r.addClass("mpc-hidden"),p.dialog("open"),g(p.find(".mpc-content-preview > img"),p,0)}),y.on("keyup",function(){y.removeClass("mpc-empty")}),o.on("click",function(a){"rename"==B&&y.val(""),B="new",s&&h.style_new.trigger("click"),K=l(v,K,!0),y.trigger("focus"),a.preventDefault()}),k.on("click",function(a){G?A.removeClass("mpc-hidden"):(c(h,C,"replace",D),s&&h.style_load.trigger("click")),K=l(v,K,!1),a.preventDefault()}),A.on("click",".mpc-vc-button",function(a){A.addClass("mpc-hidden");var b=this.getAttribute("href").substr(1);"close"!=b&&(c(h,C,b,D),s&&h.style_load.trigger("click")),a.preventDefault()}),m.on("click",function(a){d(h,C,D),s&&h.style_save.trigger("click"),K=l(v,K,!1),a.preventDefault()}),t.on("click",function(a){"new"==B&&y.val(""),B="rename",I=h.find(":selected").text(),K=l(v,K,!0),y.val(I).trigger("focus"),a.preventDefault()}),u.on("click",function(a){f(h,C,D),s&&h.style_delete.trigger("click"),K=l(v,K,!1),a.preventDefault()}),w.on("click",function(a){if(""!=B){var c=y.val().trim();"new"==B?""!=c&&-1==J.indexOf(c)?(b(c,h,C,D),B="",s&&(h.style_name.val(c),h.style_accept.trigger("click")),x.trigger("click")):y.addClass("mpc-empty"):"rename"==B&&(""!=c&&c!=H&&-1==J.indexOf(c)?(e(c,H,h,C,D),x.trigger("click")):y.addClass("mpc-empty")),a.preventDefault()}}),x.on("click",function(a){K=l(v,K,!1),y.val(""),B="",s&&h.style_cancel.trigger("click"),a.preventDefault()})})}(jQuery),function(a){"use strict";function b(a,b,c,d,e){var f="",g="",h="";"border"==c||"inner_border"==c?g="px":"padding"!=c&&"margin"!=c||(g=b.filter(d+"unit").val()),e?(""==b.filter(d+"top").val()||isNaN(h=parseFloat(b.filter(d+"top").val()))||(f+=c+"-top:"+h+g+";"),""==b.filter(d+"right").val()||isNaN(h=parseFloat(b.filter(d+"right").val()))||(f+=c+"-right:"+h+g+";"),""==b.filter(d+"bottom").val()||isNaN(h=parseFloat(b.filter(d+"bottom").val()))||(f+=c+"-bottom:"+h+g+";"),""==b.filter(d+"left").val()||isNaN(h=parseFloat(b.filter(d+"left").val()))||(f+=c+"-left:"+h+g+";")):"border"==c?""==b.filter(d+"all").val()||isNaN(h=parseFloat(b.filter(d+"all").val()))||(f+=c+"-width:"+h+g+";"):"padding"!=c&&"margin"!=c||""==b.filter(d+"all").val()||isNaN(h=parseFloat(b.filter(d+"all").val()))||(f+=c+":"+h+g+";"),"border"==c&&(""!=b.filter(d+"color").val()&&(f+="border-color:"+b.filter(d+"color").val()+";"),""!=b.filter(d+"style").val()&&(f+="border-style:"+b.filter(d+"style").val()+";"),""==b.filter(d+"radius").val()||isNaN(h=parseFloat(b.filter(d+"radius").val()))||(f+="border-radius:"+h+g+";")),"inner_border"==c&&""!=b.filter(d+"color").val()&&""!=b.filter(d+"width").val()&&(f+="box-shadow: inset 0px 0px 0px "+b.filter(d+"width").val()+g+" "+b.filter(d+"color").val()+";"),a.val(f)}function c(a,b,c,d){var e=a.val(),f=a.attr("data-prefix");if(f=void 0===f?"":f,b.val(""),b.filter(d+"unit").val("px"),""!=e){e=e.split(";");for(var g=0;g<e.length;g++){var h=e[g].split(":");2==h.length&&(h[0]=h[0].replace("-","_"),"border"==c&&(b.filter("."+f+h[0]).val(h[1]).trigger("change").trigger("blur"),"border_width"==h[0]&&b.filter(d+"all").val(h[1]).trigger("blur")),"padding"!=c&&"margin"!=c||(b.filter("."+f+h[0]).val(h[1]).trigger("change").trigger("blur"),b.filter(d+"unit").val(h[1].replace(parseFloat(h[1]),"")).trigger("change"),"padding"!=h[0]&&"margin"!=h[0]||b.filter(d+"all").val(h[1]).trigger("blur")))}}}function d(a,b){var c=a.val(),d=a.attr("data-prefix");if(d=void 0===d?"":d,""!=c){if(c=/box-shadow: inset 0px 0px 0px (.*?);/.exec(c),"undefined"==c[1])return;c=c[1].split(" "),b.filter("."+d+"inner_border_width").val(parseFloat(c[0])).trigger("blur"),b.filter("."+d+"inner_border_color").val(c[1]).trigger("change")}}var e=a(".mpc-vc-css"),f=a("#vc_ui-panel-edit-element"),g=f.find('.vc_ui-button[data-vc-ui-element="button-save"]');f.one("mpc.render",function(){e.each(function(){var e=a(this),h=e.attr("data-prefix"),i=e.attr("data-section"),j="."+h+i+"_",k=f.find(j+"divider"),l=a(j+"top,"+j+"right,"+j+"bottom,"+j+"left"),m=a(j+"all"),n=a(j+"radius"),o=e.parents(".mpc-vc-indent").find(".wpb_vc_param_value").not(e);k.on("change",function(){k.is(":checked")?m.parents(".vc_shortcode-param").stop(!0).fadeOut(100,function(){m.parents(".vc_shortcode-param").css("display","none"),l.parents(".vc_shortcode-param").stop(!0).fadeIn(100,function(){l.parents(".vc_shortcode-param").css("display","")})}):l.parents(".vc_shortcode-param").stop(!0).fadeOut(100,function(){l.parents(".vc_shortcode-param").css("display","none"),m.parents(".vc_shortcode-param").stop(!0).fadeIn(100,function(){m.parents(".vc_shortcode-param").css("display","")})})}).trigger("change"),m.add(l).add(n).on("blur mpc.change",function(){var b=a(this),c=parseFloat(b.val());b.val(isNaN(c)?"":c)}),m.on("change",function(){l.val(m.val())}),o.on("blur change",function(){b(e,o,i,j,k.is(":checked"))}),g.one("click",function(){k.is(":checked")||(k.val(""),"admin_frontend_editor"==window.vc_mode&&setTimeout(function(){k.val("true")},500)),o.each(function(){var b=a(this),c=JSON.parse(b.parents(".vc_shortcode-param").attr("data-param_settings"));"admin_frontend_editor"!=window.vc_mode&&(void 0!==c.std?b.val(c.std):void 0!==c.value&&b.val(c.value))})}),"inner_border"==i?d(e,o):c(e,o,i,j),e.on("mpc.change",function(){"inner_border"==i?d(e,o):c(e,o,i,j)}),k.on("change",function(){b(e,o,i,j,k.is(":checked"))})})})}(jQuery),function(a){"use strict";a("#vc_ui-panel-edit-element").one("mpc.render",function(){a(".vc_wrapper-param-type-mpc_datetime input").MPCdatetimepicker({format:"d/m/Y H:i",minDate:0})})}(jQuery),function(a){"use strict";function b(a,b,c,d){var e=a.find(".mpc-value"),f=e.val(),g=f.split("||");5==g.length&&(a.find(".mpc-gradient-start").val(g[0]).trigger("change"),a.find(".mpc-gradient-end").val(g[1]).trigger("change"),c.slider("values",g[2].split(";")),b.slider("value",g[3]),("linear"==g[4]&&d.is(":checked")||"radial"==g[4]&&!d.is(":checked"))&&d.click(),setTimeout(function(){e.val(f)},50))}function c(a,b,c,d){var e=a.find(".mpc-gradient-preview"),f=a.find(".mpc-value"),g=a.find(".mpc-gradient-start").val(),h=a.find(".mpc-gradient-end").val(),i=b.attr("data-value")||"0",j=c.attr("data-start-value")||0,k=c.attr("data-end-value")||100,l=d.is(":checked")?"radial":"linear",m="linear"==l?i+"deg":"circle",n="";0===g.length&&(g="rgba(0,0,0,0)"),0===h.length&&(h="rgba(0,0,0,0)"),f.val(g+"||"+h+"||"+j+";"+k+"||"+m.replace("deg","")+"||"+l);var o="background: "+l+"-gradient("+m+", "+g+" "+j+"%, "+h+" "+k+"%);";m=m.replace("circle","0").replace("deg",""),135<=m&&m<225?(l=0,n=g,g=h,h=n):0<=m&&m<45||315<=m&&m<360?l=0:45<=m&&m<135?l=1:225<=m&&m<315&&(l=1,n=g,g=h,h=n);var p="background: filter: progid:DXImageTransform.Microsoft.gradient(GradientType="+l+",startColorstr="+g+", endColorstr="+h+");";e.attr("style",o+p)}a("#vc_ui-panel-edit-element").one("mpc.render",function(){a(".vc_wrapper-param-type-mpc_gradient").each(function(){var d=a(this),e=d.find(".mpc-value"),f=d.find(".mpc-color-picker"),g=d.find(".mpc-range-slider"),h=d.find(".mpc-angle-slider"),i=d.find(".mpc-gradient-type"),j={defaultColor:a(this).val(),change:function(){setTimeout(function(){c(d,h,g,i)},50)},clear:function(){setTimeout(function(){c(d,h,g,i)},50)},hide:!0,palettes:!0};f.wpColorPicker(j),d.on("mpc.update",function(){c(d,h,g,i)}),g.slider({animate:"fast",range:!0,min:parseInt(g.attr("data-min")),max:parseInt(g.attr("data-max")),step:parseInt(g.attr("data-step")),values:[parseInt(g.attr("data-start-value")),parseInt(g.attr("data-end-value"))],disabled:i.is(":checked")}).on("slide",function(b,e){var f=a(this);f.attr("data-start-value",e.values[0]).attr("data-end-value",e.values[1]),f.parent().siblings("label").find("em").text(e.values[0]+" - "+e.values[1]),c(d,h,g,i)}),h.slider({animate:"fast",min:parseInt(h.attr("data-min")),max:parseInt(h.attr("data-max")),step:parseInt(h.attr("data-step")),value:parseInt(h.attr("data-value")),disabled:i.is(":checked")}).on("slide",function(b,e){var f=a(this);f.attr("data-value",e.value),f.parent().siblings("label").find("em").text(e.value),c(d,h,g,i)}),i.on("change",function(){a(this).is(":checked")?h.slider("disable").closest(".mpc-gradient-slider").addClass("mpc-hidden"):h.slider("enable").closest(".mpc-gradient-slider").removeClass("mpc-hidden"),c(d,h,g,i)}),e.on("mpc.change",function(){b(d,h,g,i)})})})}(jQuery),function(a){"use strict";function b(b){a.post(ajaxurl,{action:"mpc_icon_get_icons_modal_font_icons",font:b},function(a){e.find(".mpc-"+b).remove(),e.children().css("display","none").end().append(a).trigger("mpc.updated").trigger("mpc.selected"),f[b]=!0,d.trigger("mpc.search")})}function c(c){a.post(ajaxurl,{action:"mpc_icon_get_icons_modal_font_link",font:c},function(d){a("head").prepend(d),b(c)})}var d=a("#mpc_icon_select_grid_modal"),e=a("#mpc_icon_select_grid"),f={};if(e.children().each(function(){f[this.className.replace("mpc-","")]=!0}),d.is(".mpc-modal-init")){var g=a("#mpc_icon_select_search"),h=a("#mpc_icon_select_family"),i=d.find("i");d.removeClass("mpc-modal-init"),d.dialog({title:d.attr("data-modal-title"),dialogClass:"mpc-icons-modal",target:null,active:null,show:!0,hide:!0,modal:!0,resizable:!1,width:640,height:600,autoOpen:!1,closeOnEscape:!0,close:function(){g.val(""),i.show(),i.filter('[data-active="1"]').attr("data-active",0),_mpc_vars.$body.css("overflow","")},open:function(){var a=d.dialog("option","active");a&&(a=a.split(" "),2==a.length&&h.val(a[0])),h.trigger("change"),_mpc_vars.$body.css("overflow","hidden")}}),d.on("click","i",function(){var b=a(this).attr("class"),c=d.dialog("option","target");null!=c&&(c.trigger("mpc.update",[b]),d.dialog("option","target",null)),d.dialog("close")}).on("mpc.search",function(){""!=g.val()&&g.trigger("keyup")}),g.on("keyup",function(){""!=g.val()?(i.hide(),i.filter('[class*="'+g.val()+'"]').show()):i.show()}),h.on("change",function(){void 0===f[h.val()]?c(h.val()):(e.children().css("display","none").filter("div.mpc-"+h.val()).css("display","block"),e.trigger("mpc.selected"),d.trigger("mpc.search"))}),e.on("mpc.updated",function(){i=d.find("i")}).on("mpc.selected",function(){i.filter('[class="'+d.dialog("option","active")+'"]').attr("data-active",1)})}var j,k=a(".vc_wrapper-param-type-mpc_icon"),l=k.find(".mpc-icon-value");k.on("click",".mpc-icon-select",function(b){j=a(this),d.length&&(d.dialog("option","target",k),d.dialog("option","active",j.siblings(".mpc-icon-value").val()),d.dialog("open")),b.preventDefault()}),k.on("mpc.update",function(a,b){null!=j&&(j.siblings(".mpc-icon-value").val(b).trigger("change"),j.children("i").attr("class",b),j.removeClass("mpc-icon-empty"))}),l.on("mpc.change",function(){var b=a(this),d=b.val();""!=d?(b.siblings(".mpc-icon-select").removeClass("mpc-icon-empty").children("i").attr("class",d),c(d.split(" ")[0])):b.siblings(".mpc-icon-clear").trigger("click")}),k.on("click",".mpc-icon-clear",function(b){var c=a(this);c.siblings(".mpc-icon-value").val(""),c.siblings(".mpc-icon-select").addClass("mpc-icon-empty").children("i").attr("class",""),b.preventDefault()});var m={};k.find(".mpc-icon-value").filter(':not([value=""])').each(function(){var b=a(this).val();b&&(b=b.split(" "),2==b.length&&void 0===f[b[0]]&&(m[b[0]]=!0))});for(var n in m)c(n)}(jQuery),function(a){"use strict";var b=a("#vc_ui-panel-edit-element");b.one("mpc.render",function(){b.find(".vc_wrapper-param-type-mpc_layout_select").each(function(){var b=a(this),c=b.find(".mpc-layout-item"),d=b.find(".mpc_layout_select_field");c.on("click",function(){b.find('.mpc-layout-item[data-checked="true"]').removeAttr("data-checked"),a(this).attr("data-checked",!0),d.val(a(this).attr("data-value")).trigger("change")}),d.on("mpc.change",function(){c.filter('[data-value="'+d.val()+'"]').trigger("click")})})})}(jQuery),function(a){"use strict";a(".mpc-vc-list-wrap").each(function(){var b=a(this),c=b.find(".mpc-vc-list-order"),d=b.find(".mpc-value"),e=b.find(".mpc-vc-list");c.sortable({placeholder:"mpc-list-item mpc-placeholder"}).on("sortupdate",function(){var b=[];c.find(".mpc-list-item").each(function(){b.push(a(this).attr("data-id"))}),d.val(b.join(",")).trigger("change")}),c.disableSelection(),e.on("change",".mpc-list-option",function(){var b=a(this),d=b.val();b.prop("checked")?c.append('<div class="mpc-list-item mpc-list-'+d+'" data-id="'+d+'"><i class="dashicons dashicons-sort"></i>'+b.attr("data-name")+"</div>"):c.find('.mpc-list-item[data-id="'+d+'"]').remove(),0==c.find(".mpc-list-item").length?c.addClass("mpc-empty"):c.removeClass("mpc-empty"),c.trigger("sortupdate")}),d.on("mpc.change",function(){var a=d.val();if(e.find(".mpc-list-option:checked").trigger("click"),""!=a){a=a.split(",");for(var b=0;b<a.length;b++)e.find('.mpc-list-option[value="'+a[b]+'"]').trigger("click")}})})}(jQuery),function(a){"use strict";function b(b,c,d,e,f,g){var h=l(d.filter(":not(.mpc-ignored-field)"),f);if(a.isEmptyObject(h))return void o(c);m(c,!0),a.post(ajaxurl,{action:"mpc_new_shortcode_preset",shortcode:e,name:b,values:h,wp_nonce:g},function(a){void 0===a.error?(c.find(".mpc-presets--user").length||c.find(".mpc-base-option").after('<optgroup class="mpc-presets--user" label="'+x.text()+'">').after(c.find(".default")),c.find(".mpc-presets--user").append(a.markup),c.val(a.id).trigger("mpc.update"),"mpc_navigation"==e?v.trigger("mpc.navigation-added",[b]):"mpc_pagination"==e&&v.trigger("mpc.pagination-added",[b]),C=!0):n(c),m(c,!1)},"json")}function c(b,c,e,f,g){""!=b.val()?(m(b,!0),b.removeClass("mpc-empty"),a.post(ajaxurl,{action:"mpc_load_shortcode_preset",shortcode:e,id:b.val(),wp_nonce:g},function(a){void 0===a.error?d(c.filter(":not(.mpc-ignored-field)"),a,f):n(b),m(b,!1),"navigation"!=b.attr("data-sub_type")&&"pagination"!=b.attr("data-sub_type")||setTimeout(function(){C=!0},1e3),_mpc_vars.$body.trigger("mpc.preset_loaded")},"json")):b.addClass("mpc-empty")}function d(b,c,d){var h="",i="",j="",k="";b.each(function(){var b=a(this),l=b.closest('[data-vc-ui-element="panel-shortcode-param"]');if(h=b.attr("name"),""!=d&&(h=h.replace(d,"")),l.is(".wpb_el_type_checkbox, .wpb_el_type_textarea_raw_html, .wpb_el_type_attach_image")&&l.data("vcInitParam",!0),void 0===c[h]){if(void 0==(i=b.closest(".vc_shortcode-param").data("param_settings")))return;if(j=b.is('[type="checkbox"]')?b.is(":checked"):b.is(".vc_textarea_html_content")?"undefined"!=typeof tinyMCE&&tinyMCE.get("wpb_tinymce_content")?tinyMCE.get("wpb_tinymce_content").getContent():b.siblings(".wp-editor-wrap").find(".wpb-textarea").val():b.val(),void 0!==i.std)k=i.std;else if(void 0!==i.value)k=i.value;else{if(!s.is('[data-vc-shortcode^="vc_column"], [data-vc-shortcode^="vc_row"]'))return;k=""}if(k==j)return;b.is('[type="checkbox"]')?b.prop("checked",j):b.is(".vc_textarea_html_content")?"undefined"!=typeof tinyMCE&&tinyMCE.get("wpb_tinymce_content")?tinyMCE.get("wpb_tinymce_content").setContent(k):b.siblings(".wp-editor-wrap").find(".wpb-textarea").val(k):b.is(".attach_images")||b.is(".vc_link_field")||b.is(".attach_image")&&s.is('[data-vc-shortcode="mpc_image"]')||b.is(".autocomplete_field")||(l.is('[data-param_type="css_editor"]')?f(l):l.is('[data-param_type="column_offset"]')?g(l):(b.is("textarea")&&b.html(k),b.val(k))),b.trigger("change").trigger("mpc.change")}else e(b,c[h])})}function e(b,c){var d=b.is('[type="checkbox"]')?b.is(":checked"):b.val();if("object"==typeof c){if(!c.length)return;setTimeout(function(){var a,d=b.siblings(".vc_param_group-list"),f=d.find("> .vc_param"),g=b.attr("name"),h=0;if(f.length>c.length){var i=f.slice(0,c.length);f.not(i).remove()}else if(f.length<c.length){var j=d.find("> .vc_param_group-add_content");for(h=0;h<c.length-f.length;h++)j.trigger("click")}for(f=d.find("> .vc_param"),h=0;h<c.length;h++)for(a in c[h])e(f.eq(h).find("."+g+"_"+a),c[h][a])},10)}else if(b.is('[type="checkbox"]'))c="true"==c,b.prop("checked",c);else if(b.is(".vc_textarea_html_content"))"undefined"!=typeof tinyMCE&&tinyMCE.get("wpb_tinymce_content")?tinyMCE.get("wpb_tinymce_content").setContent(c):b.siblings(".wp-editor-wrap").find(".wpb-textarea").val(c);else if(b.is(".vc_link_field")){var h=c.split("|"),i={};for(var j in h)j=h[j].split(":"),i[j[0]]=decodeURIComponent(j[1]);i.target||(i.target=""),b.siblings(".title-label").text(i.title),b.siblings(".url-label").text(i.url+i.target),b.val(c)}else if(b.is(".attach_images")||b.is(".attach_image")&&s.is('[data-vc-shortcode="mpc_image"]')||b.is(".autocomplete_field"));else if(b.is("select"))b.find('option[value="'+c+'"]').length>0?b.val(c):b[0].selectedIndex=0;else if(b.parents(".vc_shortcode-param").is(".mpc-validate-int"))c=""!=c?parseInt(c):"",b.val(c);else if(b.parents(".vc_shortcode-param").is(".wpb_el_type_attach_image"))""!=c?a.post(ajaxurl,{action:"mpc_get_image_url",id:c},function(a){b.siblings(".gallery_widget_attached_images").find(".gallery_widget_attached_images_list").html(a)}):b.siblings(".gallery_widget_attached_images").find(".icon-remove").trigger("click"),b.val(c);else if(A&&b.is('[name="css"]')){var k=b.closest('[data-vc-ui-element="panel-shortcode-param"]');f(k),b.data("vcFieldManager").parse(c),b.val(b.data("vcFieldManager").save()),k.find("input.wp-color-picker").trigger("change")}else if(A&&b.is('[name="offset"]')){var l=b.closest('[data-vc-ui-element="panel-shortcode-param"]');g(l),c.replace(/\s+/g," ").trim().split(" ").forEach(function(a){/vc_hidden/i.test(a)?l.find('input[name="'+a+'"]').prop("checked",!0):l.find('option[value="'+a+'"]').closest("select").val(a)}),b.val(b.data("vcColumnOffset").save().join(" "))}else b.is("textarea")&&b.html(c),b.val(c);c!=d&&b.trigger("change").trigger("mpc.change")}function f(a){a.find('input[type="checkbox"]:checked, .vc_icon-remove').trigger("click"),a.find('input:not([type="checkbox"]):not(.wp-color-picker), select').val(""),a.find("input.wp-color-picker").val("#"+(16777215*Math.random()>>0).toString(16)).trigger("change").val("").trigger("change")}function g(a){a.find('input:not([type="checkbox"]), select').val(""),a.find('input[type="checkbox"]').prop("checked",!1)}function h(b,c,d,e,f){if(""!=b.val()){if(A||confirm(_mpc_lang.mpc_preset.save_confirm+'"'+b.find(":selected").text()+'"')){var g=l(c.filter(":not(.mpc-ignored-field)"),e);if(a.isEmptyObject(g))return void o(b);m(b,!0);var h=b.val();a.post(ajaxurl,{action:"mpc_save_shortcode_preset",shortcode:d,id:h,values:g,name:b.siblings(".mpc-preset-dynamic-name").val(),wp_nonce:f},function(a){"not set"==a&&n(b),m(b,!1),"mpc_navigation"!=d&&"mpc_pagination"!=d||("mpc_navigation"==d?v.trigger("mpc.navigation-edited",[h]):v.trigger("mpc.pagination-edited",[h]),b.siblings(".mpc-vc-buttons .mpc-save").addClass("mpc-hidden"))}),z.remove()}}else b.addClass("mpc-empty")}function i(b,c,d,e,f){m(d,!0),a.post(ajaxurl,{action:"mpc_rename_shortcode_preset",shortcode:e,id:c,name:b,wp_nonce:f},function(a){"not set"!=a?(d.find(":selected").text(b),"mpc_navigation"==e?v.trigger("mpc.navigation-edited",[b]):"mpc_pagination"==e&&v.trigger("mpc.pagination-edited",[b])):n(d),m(d,!1)})}function j(b,c,d){""!=b.val()?(A||confirm(_mpc_lang.mpc_preset.delete_confirm+'"'+b.find(":selected").text()+'"'))&&(m(b,!0),a.post(ajaxurl,{action:"mpc_delete_shortcode_preset",shortcode:c,id:b.val(),wp_nonce:d},function(a){"not set"!=a?b.find(":selected").remove().end().val("").trigger("mpc.update"):n(b),m(b,!1)})):b.addClass("mpc-empty")}function k(b,c,d){if(d||confirm(_mpc_lang.mpc_preset.clear_confirm)){m(b,!0);var e,f;c.each(function(){e=a(this),f=e.parents(".vc_shortcode-param").data("param_settings"),void 0!==f.std?(e.is('[type="checkbox"]')?e.prop("checked",f.std):e.val(f.std),e.trigger("change").trigger("mpc.change")):void 0!==f.value&&(e.is('[type="checkbox"]')?e.prop("checked",!1):e.val(f.value),e.trigger("change").trigger("mpc.change"))}),m(b,!1)}}function l(b,c){var d,e,f,g,h,i={};return b.each(function(){d=a(this),f=d.is('[type="checkbox"]')?d.is(":checked"):d.is(".vc_textarea_html_content")?"undefined"!=typeof tinyMCE&&tinyMCE.get("wpb_tinymce_content")?tinyMCE.get("wpb_tinymce_content").getContent():d.siblings(".wp-editor-wrap").find(".wpb-textarea").val():d.is(".attach_images, .autocomplete_field")?"":A&&d.is('[name="css"]')?d.data("vcFieldManager").save():A&&d.is('[name="offset"]')?d.data("vcColumnOffset").save().join(" "):d.val(),void 0!=(g=d.closest(".vc_shortcode-param").data("param_settings"))&&(h=void 0!==g.std?g.std:void 0!==g.value?g.value:"")!=f&&(e=""!=c?d.attr("name").replace(c,""):d.attr("name"),i[e]=f)}),i}function m(a,b){b?(a.siblings(".mpc-ajax").addClass("mpc-active"),r.fadeIn()):(a.siblings(".mpc-ajax").removeClass("mpc-active"),r.fadeOut())}function n(a){a.siblings(".mpc-error").stop(!0).fadeIn().delay(3e3).fadeOut()}function o(a){a.siblings(".mpc-warning").stop(!0).fadeIn().delay(3e3).fadeOut()}function p(a,b,c,d){return"navigation"!=b&&"pagination"!=b||(!c&&d?a.stop(!0).slideDown():c&&!d&&a.slideUp()),d}function q(a,b,c){return!b&&c?a.stop(!0).slideDown():b&&!c&&a.slideUp(),c}var r=a(".mpc-ajax-overlay");0==r.length&&(r=a('<div class="mpc-ajax-overlay" />'),r.appendTo("#vc_ui-panel-edit-element .vc_ui-panel-content-container"));var s=a("#vc_ui-panel-edit-element"),t=s.find('.vc_ui-button[data-vc-ui-element="button-save"]'),u=a(".mpc-preset-select"),v=a("body"),w=a("#mpc_presets_previews"),x=w.find(".mpc-presets-section.mpc-presets--user"),y=w.find(".mpc-presets-section.mpc-presets--premade"),z=a('<div class="mpc-vc-dynamic-save"></div>'),A=s.is('[data-vc-shortcode^="vc_column"], [data-vc-shortcode^="vc_row"]'),B=s.is('[data-vc-shortcode="mpc_pagination"], [data-vc-shortcode="mpc_navigation"]'),C=!1;s.one("mpc.render",function(){u.each(function(){var b=a(this),c=b.attr("data-shortcode"),d=b.attr("data-sub_type"),e=b.attr("data-wp_nonce"),f=c!=s.attr("data-vc-shortcode")&&-1==b.attr("name").indexOf(c);if(B&&(d=""),a.post(ajaxurl,{action:"mpc_get_shortcode_presets",shortcode:c,wp_nonce:e},function(a){b.append(a).trigger("mpc.loaded"),b.val(b.attr("data-selected")).trigger("change"),f&&!A||(b.siblings(".mpc-init-overlay").fadeOut(),b.siblings(".mpc-ajax").removeClass("mpc-active"))}),f&&!A&&a.post(ajaxurl,{action:"mpc_get_shortcode_fields",shortcode:c,wp_nonce:e},function(c){if(void 0===c.error){var d=s.find("input, textarea, select").not(b).filter(".wpb_vc_param_value"),e=a();for(var f in c){var g=d.filter('[name="'+c[f]+'"]');g.length&&(e=e.add(g))}b.trigger("mpc.refresh",[e])}b.siblings(".mpc-init-overlay").fadeOut(),b.siblings(".mpc-ajax").removeClass("mpc-active")},"json"),"navigation"==d||"pagination"==d){var g=b.parents(".vc_edit_form_elements").find("input, textarea, select").not(b).filter('.wpb_vc_param_value[name^="'+c+'"]');t.one("click",function(){k(b,g,!0)})}})}).one("mpc.close",function(){C=!1,z.remove()}),u.each(function(){function d(b,c,e){var f=!1;b.eq(e).MPCwaypoint({handler:function(){f||(f=!0,b.slice(e,e+8).each(function(){var b=a(this);b.attr("src",O+b.attr("data-src"))}),b.length>e&&setTimeout(function(){d(b,c,e+8)},250))},context:c,offset:"100%"})}var e,f,g=a(this),l=g.parent(),m=g.siblings(".mpc-preview"),n=l.find(".mpc-load.mpc-vc-button"),o=l.find(".mpc-save.mpc-vc-button"),r=l.find(".mpc-new.mpc-vc-button"),u=l.find(".mpc-rename.mpc-vc-button"),v=l.find(".mpc-delete.mpc-vc-button"),A=l.find(".mpc-clear.mpc-vc-button"),D=g.siblings(".mpc-name"),E=D.children(".mpc-accept.mpc-vc-button"),F=D.children(".mpc-cancel.mpc-vc-button"),G=D.find(".mpc-preset-name"),H=g.parents(".vc_edit_form_elements").find("input, textarea, select").not(g).filter(".wpb_vc_param_value:not(.mpc-content-select)"),I=l.find(".mpc-vc-button:not(.mpc-new, .mpc-clear, .mpc-preview, .mpc-accept, .mpc-cancel)"),J="",K=g.attr("data-sub_type"),L=g.attr("data-shortcode"),M=g.attr("data-wp_nonce"),N=g.attr("data-placeholder"),O=g.attr("data-baseurl"),P=g.is('[name^="'+L+'"]')?L+"__":"",Q="",R="",S=[],T=!1,U=!1;B&&(K=""),""!=P&&(H=H.filter('[name^="'+P+'"]')),"navigation"!=K&&"pagination"!=K&&(H=H.filter(':not([name^="mpc_navigation__"]):not([name^="mpc_pagination__"])').add(H.filter('[name="mpc_navigation__preset"], [name="mpc_pagination__preset"]'))),g.on("change",function(){Q=g.val(),g.removeClass("mpc-empty"),F.trigger("click"),""==g.val()?I.addClass("mpc-hidden"):I.removeClass("mpc-hidden"),"navigation"!=K&&"pagination"!=K||(o.addClass("mpc-hidden"),U=p(e,K,U,!1))}).on("mpc.refresh",function(a,b){H=b}).on("mpc.update",function(){Q=g.val(),g.removeClass("mpc-empty"),S=[],g.children().each(function(){S.push(a(this).text())}),""==g.val()?I.addClass("mpc-hidden"):I.removeClass("mpc-hidden")}).on("mpc.loaded",function(){g.addClass("mpc-loaded-values"),g.children().each(function(){S.push(a(this).text())}),g.children('[value^="preset_"]').wrapAll('<optgroup class="mpc-presets--user" label="'+x.text()+'">'),g.children('[value^="mpc_preset_"]').wrapAll('<optgroup label="'+y.text()+'">'),"navigation"!=K&&"pagination"!=K||(e=a('<div class="mpc-vc-sub-fields" />').insertAfter(g.parents(".vc_shortcode-param")),f=a('<a href="#close" class="mpc-close">&times;</a>'),z.html(_mpc_lang.mpc_preset["save_"+K+"_preset"]),e.append(f).append(g.parents(".vc_shortcode-param").siblings()),f.on("click",function(a){a.preventDefault(),U=p(e,K,U,!1),o.addClass("mpc-hidden"),C=!1,z.remove(),"new"==J&&(T=q(D,T,!1))}),e.find("input, textarea, select").on("change",function(){"navigation"!=K&&"pagination"!=K||!C||(C=!1,z.insertAfter(t))}),s.on("click",".mpc-vc-dynamic-save",function(){"new"==J?E.trigger("click"):o.trigger("click")}))}),m.on("click",function(){w.is(".mpc-modal-init")&&(w.removeClass("mpc-modal-init"),w.dialog({title:w.attr("data-title"),dialogClass:"mpc-presets-modal",show:!0,hide:!0,modal:!0,resizable:!1,width:510,height:600,autoOpen:!1,closeOnEscape:!0}),w.on("click",".mpc-preset-preview",function(b){b.preventDefault(),w.dialog("option","target").val(a(this).attr("data-preset-name")).trigger("change"),w.dialog("close"),w.dialog("option","load_button").trigger("click")})),"1"==g.attr("data-wide-modal")?w.addClass("mpc-wide-modal"):w.removeClass("mpc-wide-modal"),w.dialog("option","target",g),w.dialog("option","load_button",n),w.find(".mpc-preset-preview").remove(),g.find("option:not(.mpc-base-option)").each(function(){var b=a(this),c="",d=b.attr("data-preset-image");d=d?'<img src="'+N+'" data-src="'+d+'">':"",c+='<a href="#" class="mpc-preset-preview" data-preset-name="'+b.val()+'">',c+=d,c+="<p>"+b.text()+"</p>",c+="</a>",w.append(c)});var b=w.find('.mpc-preset-preview[data-preset-name^="preset"]');b.length?(x.removeClass("mpc-hidden"),b.first().before(x)):x.addClass("mpc-hidden"),b=w.find('.mpc-preset-preview[data-preset-name^="mpc_preset"]'),b.length?(y.removeClass("mpc-hidden"),b.first().before(y)):y.addClass("mpc-hidden"),w.dialog("open"),d(w.find(".mpc-preset-preview > img"),w,0)}),G.on("keyup",function(){G.removeClass("mpc-empty")}),r.on("click",function(a){"rename"==J&&G.val(""),J="new",U=p(e,K,U,!0),T=q(D,T,!0),"navigation"!=K&&"pagination"!=K||(o.addClass("mpc-hidden"),C=!0,z.remove()),G.trigger("focus"),a.preventDefault()}),n.on("click",function(a){c(g,H,L,P,M),U=p(e,K,U,!0),T=q(D,T,!1),"navigation"!=K&&"pagination"!=K||(o.removeClass("mpc-hidden"),z.remove()),a.preventDefault()}),o.on("click",function(a){h(g,H,L,P,M),T=q(D,T,!1),"navigation"!=K&&"pagination"!=K||(C=!0),a.preventDefault()}),u.on("click",function(a){"new"==J&&G.val(""),J="rename",R=g.find(":selected").text(),U=p(e,K,U,!1),T=q(D,T,!0),C=!1,z.remove(),G.val(R).trigger("focus"),a.preventDefault()}),v.on("click",function(a){j(g,L,M),U=p(e,K,U,!1),T=q(D,T,!1),C=!1,z.remove(),a.preventDefault()}),A.on("click",function(a){k(g,H,!1),T=q(D,T,!1),z.remove(),a.preventDefault()}),E.on("click",function(a){if(""!=J){var c=G.val().trim();"new"==J?""!=c&&-1==S.indexOf(c)?(b(c,g,H,L,P,M),C=!1,z.remove(),J="",F.trigger("click")):G.addClass("mpc-empty"):"rename"==J&&(""!=c&&c!=Q&&-1==S.indexOf(c)?(i(c,Q,g,L,M),C=!1,z.remove(),F.trigger("click")):G.addClass("mpc-empty")),a.preventDefault()}}),F.on("click",function(a){T=q(D,T,!1),"new"!=J||"navigation"!=K&&"pagination"!=K||(U=p(e,K,U,!1),C=!1,z.remove()),G.val(""),J="",a.preventDefault()})})}(jQuery),function(a){"use strict";function b(a,b,c,d,e){var f="none",g={left:a.val(),top:b.val(),blur:c.val(),color:d.val()};return""!=g.color&&(f="",""!=g.left?f+=g.left+"px ":f+="0 ",""!=g.top?f+=g.top+"px ":f+="0 ",""!=g.blur?f+=g.blur+"px ":f+="0 ",f+=g.color),e.css("text-shadow",f),"none"!=f?f:""}function c(a,c,d,e,f,g){a=a.trim().replace(/\s+/g," ").split(" "),a.length>4&&(a[3]=a.slice(3).join("")),4!=a.length&&(a[0]=a[1]=a[2]=a[3]=""),c.val(parseInt(a[0])),d.val(parseInt(a[1])),e.val(parseInt(a[2])),f.val(a[3]).trigger("change"),b(c,d,e,f,g)}a("#vc_ui-panel-edit-element").one("mpc.render",function(){a(".vc_wrapper-param-type-mpc_shadow").each(function(){var d=a(this),e=d.find(".mpc-value"),f=d.find(".mpc-shadow-left"),g=d.find(".mpc-shadow-top"),h=d.find(".mpc-shadow-blur"),i=d.find(".mpc_text_field"),j=d.find(".mpc-shadow-color"),k=d.find(".mpc-shadow-text"),l={defaultColor:a(this).val(),change:function(){setTimeout(function(){e.val(b(f,g,h,j,k))},50)},clear:function(){setTimeout(function(){e.val(b(f,g,h,j,k))},50)},hide:!0,palettes:!0};j.wpColorPicker(l),i.on("change keyup",function(){e.val(b(f,g,h,j,k))}),e.on("mpc.change",function(){c(e.val(),f,g,h,j,k)})})})}(jQuery),function(a){"use strict";a(".mpc-vc-slider").each(function(){var b=a(this),c=b.children(".mpc-slider"),d=b.siblings(".mpc-value");c.slider({animate:"fast",min:parseFloat(c.attr("data-min")),max:parseFloat(c.attr("data-max")),step:parseFloat(c.attr("data-step")),value:parseFloat(c.attr("data-value")),range:!!b.is(".mpc-fill")&&"min"}),d.length&&(c.on("slide",function(a,b){b.value===+b.value&&b.value!==(0|b.value)&&(b.value=b.value.toFixed(2)),d.val(b.value)}),d.on("change",function(){c.slider("value",d.val());var a=c.slider("value");a===+a&&a!==(0|a)&&(a=a.toFixed(2)),d.val(a)}))})}(jQuery),function(a){"use strict";function b(){a(".vc_param_group-list .vc_param-group-admin-labels").each(function(){a(this).html(a(this).html().replace(new RegExp("(\\|){3}","g")," | "))})}function c(){var c=a(".mpc-vc-split-text"),d=a(".mpc-vc-split");c.off("blur"),d.off("change mpc.change"),c.on("blur",function(){var c=a(this),d=c.val();""!=d&&c.siblings(".mpc-vc-split").val(d.replace(/\n/g,"|||")),b()}),d.on("change mpc.change",function(){var c=a(this),d=c.siblings(".mpc-vc-split-text"),e=c.val();""!=e?d.val(e.replace(/\|\|\|/g,"\n")):d.val(""),b()})}var d=a("#vc_ui-panel-edit-element");d.one("mpc.render",function(){var a=d.find('[data-vc-shortcode-param-name="elements"]'),e=a.find(".vc_param_group-add_content"),f=a.find(".column_clone");e.on("click",function(){setTimeout(function(){c()},250)}),f.on("click",function(){c()}),c(),b()})}(jQuery),function(a){"use strict";function b(a){var b=parseInt(a.val());a.val(isNaN(b)?"":b)}function c(a){var b=parseFloat(a.val());a.val(isNaN(b)?"":b)}a("#vc_ui-panel-edit-element").one("mpc.render",function(){a(".vc_wrapper-param-type-mpc_text .mpc-text-input").each(function(){var d=a(this),e=d.children("input"),f=d.attr("data-validate");"1"==f||"int"==f?(b(e),e.on("blur",function(){b(e)})):"float"==f&&(c(e),e.on("blur",function(){c(e)}))})})}(jQuery),function(a){"use strict";function b(b,c,d,e){j(c,!0),a.post(ajaxurl,{action:"mpc_new_typography_preset",name:b,values:i(d),wp_nonce:e},function(a){"not set"!=a?(n.append(a.markup),c.val(a.id).trigger("change").trigger("mpc.updated"),o.trigger("mpc.font-added",[a.id])):k(c),j(c,!1)},"json")}function c(b,c,e,f,g){""!=b.val()?(j(b,!0),b.removeClass("mpc-empty"),a.post(ajaxurl,{action:"mpc_load_typography_preset",id:b.val(),wp_nonce:g},function(a){if("not set"!=a)for(var g in a)d(c.filter('[name="'+g+'"]'),a[g]);else k(b);e.stop(!0).slideDown(),f.val(b.find(":selected").text()).trigger("focus"),j(b,!1)},"json")):b.addClass("mpc-empty")}function d(a,b){var c=a.val();a.val(b),b!=c&&a.trigger("change").trigger("mpc.change")}function e(b,c,d,e,f){""!=d.val()?confirm(_mpc_lang.mpc_typography.save_confirm+'"'+d.find(":selected").text()+'"')&&(j(d,!0),a.post(ajaxurl,{action:"mpc_edit_typography_preset",id:c,name:b,values:i(e),wp_nonce:f},function(a){"not set"!=a?(n.find("."+c).text(b),o.trigger("mpc.font-edited",[c])):k(d),j(d,!1)})):d.addClass("mpc-empty")}function f(b,c){if(""!=b.val()){if(confirm(_mpc_lang.mpc_typography.delete_confirm+'"'+b.find(":selected").text()+'"')){j(b,!0);var d=b.val();a.post(ajaxurl,{action:"mpc_delete_typography_preset",id:d,wp_nonce:c},function(a){"not set"!=a?(n.find("."+d).remove(),b.val("")):k(b),j(b,!1)})}}else b.addClass("mpc-empty")}function g(b,c,d){j(b,!0),a.post(ajaxurl,{action:"mpc_get_typography_form",wp_nonce:d},function(d){"not set"!=d?(a("body").append(d),l=a("#mpc_typography_form"),n.trigger("mpc.form-loaded"),c.trigger("click")):k(b),j(b,!1)})}function h(b){var c=b.siblings(".mpc-typography");c.append(l.clone());var d,e=c.find(".mpc-typography-form"),f=e.find(".mpc-typography-value"),g=f.filter('[name="font-family"]'),h=f.filter('[name="style"]'),i=f.filter('[name="subset"]'),j=f.filter('[name="font-weight"]'),k=f.filter('[name="font-style"]'),m=f.filter('[name="text-align"]'),n=f.filter('[name="text-transform"]'),o=f.filter('[name="font-size"]'),p=f.filter('[name="line-height"]'),q=f.filter('[name="color"]'),r=f.filter('[name="url"]'),s=e.find(".mpc-preview-wrap"),t=s.find(".mpc-preview"),u={100:"Ultra-Light (100)",200:"Light (200)",300:"Book (300)",regular:"Normal (400)",500:"Medium (500)",600:"Semi-Bold (600)",700:"Bold (700)",800:"Extra-Bold (800)",900:"Ultra-Bold (900)","100italic":"Ultra-Light Italic (100)","200italic":"Light Italic (200)","300italic":"Book Italic (300)",italic:"Normal Italic (400)","500italic":"Medium Italic (500)","600italic":"Semi-Bold Italic (600)","700italic":"Bold Italic (700)","800italic":"Extra-Bold Italic (800)","900italic":"Ultra-Bold Italic (900)"},v={arabic:"Arabic",cyrillic:"Cyrillic","cyrillic-ext":"Cyrillic Extended",devanagari:"Devanagari",greek:"Greek","greek-ext":"Greek Extended",hebrew:"Hebrew",khmer:"Khmer",latin:"Latin","latin-ext":"Latin Extended",telugu:"Telugu",vietnamese:"Vietnamese"};g.MPCselect2({data:_mpc_fonts,width:"100%",allowClear:!0,placeholder:" "}).on("change",function(a,b,c){if(""==g.val())h.html('<option value=""></option>').trigger("change"),i.html('<option value=""></option>'),r.val(""),s.fadeOut();else{var d,e,f=g.MPCselect2("data");if(null===f)return h.html('<option value=""></option>').trigger("change"),i.html('<option value=""></option>'),void s.stop(!0).fadeIn();if(""==f.id)return;if(void 0==f.url?r.val(""):r.val(f.url),i.html(""),void 0==f.subsets)i.closest(".mpc-form-element").css("display","none"),i.append('<option value="" selected="selected"></option>');else for(i.closest(".mpc-form-element").css("display",""),d=0;d<f.subsets.length;d++)e="latin"==f.subsets[d]?'selected="selected"':"",i.append('<option value="'+f.subsets[d]+'" '+e+">"+v[f.subsets[d]]+"</option>");if(h.html(""),void 0==f.variants)h.closest(".mpc-form-element").css("display","none"),h.append('<option value="" selected="selected"></option>');else for(h.closest(".mpc-form-element").css("display",""),d=0;d<f.variants.length;d++)e="regular"==f.variants[d]?'selected="selected"':"",h.append('<option value="'+f.variants[d]+'" '+e+">"+u[f.variants[d]]+"</option>");h.trigger("change"),s.stop(!0).fadeIn()}}),h.on("change",function(){var a=h.val();null!=a&&(-1!=a.indexOf("italic")?k.val("italic"):k.val("normal"),a=a.replace("italic",""),j.val(""==a||"regular"==a?"400":a))}),o.on("blur",function(){var a=parseInt(o.val());""!=a&&o.val(isNaN(a)?"":a)}),p.on("blur",function(){var a=parseFloat(p.val());""!=a&&p.val(isNaN(a)?"":a)}),q.wpColorPicker({defaultColor:q.val(),hide:!0,palettes:!0,change:function(){q.trigger("mpc.change")}}),f.on("change keyup mpc.change",function(){clearTimeout(d),d=setTimeout(function(){t.trigger("mpc.refresh")},250)}),t.on("mpc.refresh",function(){var b=g.MPCselect2("data"),c="";if(""!=g.val())if(null!==b&&void 0!=b.subsets&&""===r.val()){var d='<link href="//fonts.googleapis.com/css?family=';d+=g.val().replace(/ /g,"+"),d+=":"+h.val(),d+='" rel="stylesheet" type="text/css">',a("head").append(d),c='"'+g.val()+'"'}else if(null!==b&&""!==r.val()){var d='<link href="';d+=r.val(),d+='" rel="stylesheet" type="text/css">',a("head").append(d),c='"'+g.val()+'"',i.val("")}else i.val(""),r.val(""),c=g.val();var e="";e+=""!=g.val()?"font-family: "+c+";":"",e+=""!=k.val()?"font-style: "+k.val()+";":"",e+=""!=j.val()?"font-weight: "+j.val()+";":"",e+=""!=n.val()?"text-transform: "+n.val()+";":"",e+=""!=m.val()?"text-align: "+m.val()+";":"",e+=""!=o.val()?"font-size: "+o.val()+"px;":"",e+=""!=p.val()?"line-height: "+p.val()+";":"",e+=""!=q.val()?"color: "+q.val()+";":"",t.attr("style",e)})}function i(b){var c,d={};return b.each(function(){c=a(this),d[c.attr("name")]=c.val()}),d}function j(a,b){b?(a.siblings(".mpc-ajax").addClass("mpc-active"),a.siblings(".mpc-init-overlay").fadeIn()):(a.siblings(".mpc-ajax").removeClass("mpc-active"),a.siblings(".mpc-init-overlay").fadeOut())}function k(a){a.siblings(".mpc-error").stop(!0).fadeIn().delay(3e3).fadeOut()}var l=a("#mpc_typography_form"),m=a("#vc_ui-panel-edit-element"),n=a(".mpc-typography-select"),o=a("body"),p=[];m.one("mpc.render",function(){0!=n.length&&a.post(ajaxurl,{action:"mpc_get_typography_presets",wp_nonce:n.attr("data-wp_nonce")},function(b){"not set"!=b?(n.append(b).trigger("mpc.loaded"),n.each(function(){var b=a(this);b.val(b.attr("data-selected")).trigger("change")})):k(n),n.siblings(".mpc-init-overlay").fadeOut(),n.siblings(".mpc-ajax").removeClass("mpc-active")})}),n.on("mpc.updated",function(){var b=a(this);p=[],b.children().each(function(){p.push(a(this).val())})}).on("mpc.loaded",function(){p=[],n.first().children().each(function(){p.push(a(this).val())})}),n.each(function(){var d=a(this),i=d.parent(),j=d.siblings(".mpc-new.mpc-vc-button"),k=d.siblings(".mpc-edit.mpc-vc-button"),m=d.siblings(".mpc-delete.mpc-vc-button"),n=d.siblings(".mpc-typography"),o=d.siblings(".mpc-vc-button:not(.mpc-new)"),q=d.siblings(".mpc-buttons"),r=n.find(".mpc-typography-name"),s=n.children(".mpc-accept.mpc-vc-button"),t=n.children(".mpc-cancel.mpc-vc-button"),u=n.find(".mpc-typography-value").filter("input, select"),v=0!=l.length,w=!1,x="",y=d.attr("data-wp_nonce"),z="";d.on("change",function(){z=d.val(),d.removeClass("mpc-empty"),d.attr("data-option",d.val()),t.trigger("click"),""==d.val()?o.addClass("mpc-hidden"):o.removeClass("mpc-hidden")}).on("mpc.form-loaded",function(){v=!0}),r.on("keyup",function(){r.removeClass("mpc-empty")}),j.on("click",function(a){v?(w||(h(d),r=n.find(".mpc-typography-name"),s=n.find(".mpc-accept.mpc-vc-button"),t=n.find(".mpc-cancel.mpc-vc-button"),u=n.find(".mpc-typography-value").filter("input, select"),w=!0),"edit"==x&&(r.val(""),u.val("").trigger("change")),x="new",n.removeClass("mpc-state--edit").addClass("mpc-state--new").stop(!0).slideDown(),q.removeClass("mpc-state--edit mpc-hidden").addClass("mpc-state--new"),r.trigger("focus")):g(d,j,y),a.preventDefault()}),k.on("click",function(a){v?(w||(h(d),r=n.find(".mpc-typography-name"),s=n.find(".mpc-accept.mpc-vc-button"),t=n.find(".mpc-cancel.mpc-vc-button"),u=n.find(".mpc-typography-value").filter("input, select"),w=!0),"new"==x&&(r.val(""),u.val("").trigger("change")),x="edit",n.removeClass("mpc-state--new").addClass("mpc-state--edit"),q.removeClass("mpc-state--new mpc-hidden").addClass("mpc-state--edit"),c(d,u,n,r,y)):g(d,k,y),a.preventDefault()}),m.on("click",function(a){f(d,y),a.preventDefault()}),i.on("click",".mpc-accept.mpc-vc-button",function(a){if(""!=x){var c=r.val().trim();"new"==x?""!=c&&-1==p.indexOf(c)?(b(c,d,u,y),t.trigger("click")):r.addClass("mpc-empty"):"edit"==x&&(""==c||c!=z&&-1!=p.indexOf(c)?r.addClass("mpc-empty"):(e(c,z,d,u,y),t.trigger("click"))),q.addClass("mpc-hidden"),a.preventDefault()}}),i.on("click",".mpc-cancel.mpc-vc-button",function(a){n.slideUp(),r.val(""),u.val("").trigger("change"),x="",q.addClass("mpc-hidden"),a.preventDefault()})})}(jQuery);