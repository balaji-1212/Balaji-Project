"use strict";!function(){const n={options:{touch:"move",infinite:!0,autostart:!0,preloadImages:!1,preventScroll:!1,hideOneDot:!0},i:0,touchStartX:null,touchChangeUnify(e){return e.changedTouches?e.changedTouches[0]:e},touchStartHandler(e){n.touchStartX=n.touchChangeUnify(e).clientX},touchEndHandler(t){if(n.touchStartX||0===n.touchStartX){t=n.touchChangeUnify(t).clientX-n.touchStartX,t=Math.sign(t);if(n.touchStartX=null,0!==t){var r=this,i=r.querySelector(".hover-slider-images-toggler"),a=r.querySelector("img.hover-slider-init"),r=r.querySelector(".hover-slider-indicator"),o=r.querySelector(".active");let e=null;0<t?!(e=o.previousElementSibling)&&n.getOption(a,"infinite")&&(e=r.querySelector("div.hover-slider-indicator-dot:last-of-type")):!(e=o.nextElementSibling)&&n.getOption(a,"infinite")&&(e=r.querySelector("div.hover-slider-indicator-dot:first-of-type")),e&&(o.classList.remove("active"),e.classList.add("active"),t=e.dataset.hoverSliderI,r=i.querySelector(`div[data-hover-slider-i="${t}"]`),n.changeImgByTogglePane(r,a))}}},changeImgByTogglePane(e,t){var r=e.dataset.hoverSliderI,e=e.dataset.hoverSliderImage,i=n.findLoadedImageById(r);!1!==i?t.replaceWith(i):(i=n.createVirtualImage(t,e),n.loadedImages.push({el:i,id:r,src:e}),t.replaceWith(i))},togglePaneEnterListener(e,t=null){var t=t||this,r=t.parentElement.parentElement.querySelector("img.hover-slider-init"),r=(n.changeImgByTogglePane(t,r),t.dataset.hoverSliderI),t=t.parentElement.parentElement.querySelector(".hover-slider-indicator");t.querySelector(".active").classList.remove("active"),t.querySelector(`.hover-slider-indicator-dot[data-hover-slider-i="${r}"]`).classList.add("active")},createElement(e,t={}){let r=null;switch(e){case"imagesToggler":(r=document.createElement("div")).classList.add("hover-slider-images-toggler"),r.style.position="absolute",r.style.top="0",r.style.right="0",r.style.bottom="0",r.style.left="0",r.style.display="flex";break;case"togglePane":(r=document.createElement("div")).classList.add("hover-slider-toggle-pane"),r.style.flexGrow="1",r.dataset.hoverSliderImage=t.slideSrc,r.dataset.hoverSliderI=n.i,r.addEventListener("mouseenter",n.togglePaneEnterListener,!1);break;case"sliderIndicator":(r=document.createElement("div")).classList.add("hover-slider-indicator");break;case"indicatorDot":(r=document.createElement("div")).dataset.hoverSliderI=n.i,r.classList.add("hover-slider-indicator-dot"),t.active&&r.classList.add("active")}return r},getOption(e=null,t){let r={...n.options};return(r=e&&e.dataset.options?Object.assign(r,JSON.parse(e.dataset.options)):r)[t]},loadedImages:[],findLoadedImageById(t){var e=n.loadedImages.find(function(e){if(parseInt(e.id)===parseInt(t))return!0});return void 0!==e&&e.el},createVirtualImage(e,t){var r=document.createElement("img");return r.setAttribute("src",t),r.classList=e.classList,r.dataset.options=e.dataset.options,r.classList.add("hover-slider-init"),r},prepareMarkupForImage(r){var e=r.parentElement;let t=[];t.push(r.getAttribute("src"));var i=r.dataset.hoverSlides;try{t=t.concat(JSON.parse(i))}catch(e){t=t.concat(i.split(","))}t=t.map(function(e){return e.trim()});const a=n.createElement("imagesToggler"),o=n.createElement("sliderIndicator");this.options.hideOneDot&&t.length<2&&(o.style.display="none"),t.forEach(function(e,t){n.i++,a.append(n.createElement("togglePane",{slideSrc:e})),o.append(n.createElement("indicatorDot",{active:0===t})),!0===n.getOption(r,"preloadImages")&&n.loadedImages.push({el:n.createVirtualImage(r,e),id:n.i,src:e})}),"relative"!==getComputedStyle(e).position&&(e.style.position="relative"),"move"===n.getOption(r,"touch")&&e.addEventListener("touchmove",e=>{var t=e.touches[0],t=document.elementFromPoint(t.clientX,t.clientY);t&&t.classList.contains("hover-slider-toggle-pane")&&n.togglePaneEnterListener(e,t),n.getOption(r,"preventScroll")&&e.preventDefault()},!1),"end"===n.getOption(r,"touch")&&(e.addEventListener("touchstart",n.touchStartHandler,!1),e.addEventListener("touchend",n.touchEndHandler,!1),n.getOption(r,"preventScroll"))&&e.addEventListener("touchmove",e=>{e.preventDefault()},!1),e.prepend(o),e.prepend(a),r.classList.add("hover-slider-init")},prepareMarkup(e=null){e?n.prepareMarkupForImage(e):document.querySelectorAll("img[data-hover-slides]:not(.hover-slider-init)").forEach(function(e){n.prepareMarkupForImage(e)})},init(e={}){return window.hoverSliderOptions&&(n.options=Object.assign(n.options,window.hoverSliderOptions)),n.options=Object.assign(n.options,e),n.getOption(null,"autostart")&&this.prepareMarkup(),this}};window.hoverSlider=n.init()}();