!function(u){"use strict";etTheme.autoinit.variationGallery=etTheme.variationGallery=function(){var e,t,a,r,i=u(".variations_form"),n=0<u(i).length,o=i.data("product_id"),l=u(".images-wrapper").hasClass("swiper-vertical-images"),s=u(document).find(".quick-view-popup"),m=(s.length&&(i=s.find(".variations_form")),e=i,t=o,n&&wp.ajax.send("et_get_default_variation_gallery",{data:{product_id:t},success:function(i){u(e).data("et_variation_gallery_default",i),etTheme.global_image_lazy(),etTheme.resizeVideo(),setTimeout(function(){u(window).trigger("resize")},500)},error:function(i){u(e).data("et_variation_gallery_default",[]),etTheme.et_notice("variationGalleryNotAvailable","error"," "+t+".")}}),a=i,o=o,n&&wp.ajax.send("et_get_available_variation_images",{data:{product_id:o},success:function(i){u(a).data("et_variation_gallery_variation_images",r),!r||r.length<1?r=u(a).data("et_variation_gallery_default"):d(r)},error:function(i){u(a).data("et_variation_gallery_variation_images",[])}}),i.on("found_variation",function(i,e){d(e.variation_gallery_images),m(),u(document).trigger("variable_product_found_variation")}).on("reset_data",function(){u(this).data("et_variation_gallery_default")&&d(u(this).data("et_variation_gallery_default")),m(),u(document).trigger("variable_product_found_variation")}),function(){var i=u(".main-images").data("Swiper"),e=u(".thumbnails-list").data("Swiper");void 0!==i&&etTheme.swipers["swiper-"+index].slideTo(0),l?u(".thumbnails-list").slick("slickGoTo",0):void 0!==e&&etTheme.swipers["swiper-"+index].slideTo(0)});function d(i){var e;i&&n&&(e=i.map(function(i){return wp.template("et-variation-gallery-thumbnail-template")(i)}).join(""),u(".thumbnails-list").parent().removeClass("dt-hide mob-hide"),u(".swiper-control-top").find(".swiper-custom-left, .swiper-custom-right").removeClass("dt-hide mob-hide"),u(".thumbnails-list.vertical-thumbnails").find(".slick-arrow").remove(),u(".swiper-wrapper.thumbnails-list, .thumbnails-list.vertical-thumbnails .slick-track").html(e),i.length<=1&&(u(".swiper-wrapper.thumbnails-list").parent().addClass("dt-hide mob-hide"),u(".swiper-control-top").find(".swiper-custom-left, .swiper-custom-right").addClass("dt-hide mob-hide")),e=i.map(function(i){return wp.template("et-variation-gallery-slider-template")(i)}).join(""),u(".swiper-control-top .main-images").html(e),etTheme.global_image_lazy(),etTheme.resizeVideo(),setTimeout(function(){l&&(u(".thumbnails-list.vertical-thumbnails .slick-arrow").remove(),u(".thumbnails-list.vertical-thumbnails").slick("reinit"),u(".pswp-main-image img").on("load",function(){u(".thumbnails-list.vertical-thumbnails").slick("reinit")})),u(window).trigger("resize")},500),u.fn.zoom)&&!s.length&&wc_single_product_params.zoom_enabled&&u(".woocommerce-main-image").each(function(i,e){var t=u(e).width();u(e).find("img").data("large_image_width")>t&&(t=u.extend({touch:!1},wc_single_product_params.zoom_options),"ontouchstart"in document.documentElement?t.on="click":u(e).zoom(t))})}}}(jQuery);