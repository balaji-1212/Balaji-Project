!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"function"==typeof require?e(require("jquery")):e(jQuery)}(function(g){"use strict";var s={escapeRegExChars:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}},i=27,n=9,a=13,o=38,l=39,r=40,e=g.noop;function u(e,t){var s=this;s.element=e,s.el=g(e),s.suggestions=[],s.badQueries=[],s.selectedIndex=-1,s.currentValue=s.element.value,s.timeoutId=null,s.cachedResponse={},s.onChangeTimeout=null,s.onChange=null,s.isLocal=!1,s.suggestionsContainer=null,s.noSuggestionsContainer=null,s.options=g.extend(!0,{},u.defaults,t),s.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},s.hint=null,s.hintValue="",s.selection=null,s.initialize(),s.setOptions(t)}u.utils=s,(g.Autocomplete=u).defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,onHint:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:function(e,t){return t?(t="("+s.escapeRegExChars(t)+")",e.value.replace(new RegExp(t,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")):e.value},formatGroup:function(e,t){return'<div class="autocomplete-group">'+t+"</div>"},delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,closeOnOutside:!0,preventBadQueries:!0,lookupFilter:function(e,t,s){return-1!==e.value.toLowerCase().indexOf(s)},paramName:"query",transformResult:function(e){return"string"==typeof e?g.parseJSON(e):e},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},u.prototype={initialize:function(){var e,t=this,s="."+t.classes.suggestion,i=t.classes.selected,n=t.options;t.element.setAttribute("autocomplete","off"),t.noSuggestionsContainer=g('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),t.suggestionsContainer=u.utils.createNode(n.containerClass),(e=g(t.suggestionsContainer)).appendTo(n.appendTo||"body"),"auto"!==n.width&&e.css("width",n.width),e.on("mouseover.autocomplete",s,function(){t.activate(g(this).data("index"))}),e.on("mouseout.autocomplete",function(){t.selectedIndex=-1,e.children("."+i).removeClass(i)}),e.on("click.autocomplete",s,function(){t.select(g(this).data("index"))}),e.on("click.autocomplete",function(){clearTimeout(t.blurTimeoutId)}),t.fixPositionCapture=function(){t.visible&&t.fixPosition()},g(window).on("resize.autocomplete",t.fixPositionCapture),t.el.on("keydown.autocomplete",function(e){t.onKeyPress(e)}),t.el.on("keyup.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("blur.autocomplete",function(){t.onBlur()}),t.el.on("focus.autocomplete",function(){t.onFocus()}),t.el.on("change.autocomplete",function(e){t.onKeyUp(e)}),t.el.on("input.autocomplete",function(e){t.onKeyUp(e)})},onFocus:function(){var e=this;e.disabled||(e.fixPosition(),e.el.val().length>=e.options.minChars&&e.onValueChange())},onBlur:function(){var e=this,t=e.options,s=e.el.val(),i=e.getQuery(s);e.blurTimeoutId=setTimeout(function(){t.closeOnOutside&&e.hide(),e.selection&&e.currentValue!==i&&(t.onInvalidateSelection||g.noop).call(e.element)},200)},abortAjax:function(){var e=this;e.currentRequest&&(e.currentRequest.abort(),e.currentRequest=null)},setOptions:function(e){var t=this,e=g.extend({},t.options,e);t.isLocal=Array.isArray(e.lookup),t.isLocal&&(e.lookup=t.verifySuggestionsFormat(e.lookup)),e.orientation=t.validateOrientation(e.orientation,"bottom"),g(t.suggestionsContainer).css({"max-height":e.maxHeight+"px",width:e.width+"px","z-index":e.zIndex}),this.options=e},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,clearTimeout(e.onChangeTimeout),e.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var e,t,s,i,n,a,o,l,r=this,u=g(r.suggestionsContainer),c=u.parent().get(0);c!==document.body&&!r.options.forceFixPosition||(a=r.options.orientation,e=u.outerHeight(),t=r.el.outerHeight(),s={top:(l=r.el.offset()).top,left:l.left},"auto"===a&&(o=g(window).height(),i=-(n=g(window).scrollTop())+l.top-e,n=n+o-(l.top+t+e),a=Math.max(i,n)===i?"top":"bottom"),s.top+="top"===a?-e:t,c!==document.body&&(o=u.css("opacity"),r.visible||u.css("opacity",0).show(),l=u.offsetParent().offset(),s.top-=l.top,s.top+=c.scrollTop,s.left-=l.left,r.visible||u.css("opacity",o).hide()),"auto"===r.options.width&&(s.width=r.el.outerWidth()+"px"),u.css(s))},isCursorAtEnd:function(){var e=this.el.val().length,t=this.element.selectionStart;return"number"==typeof t?t===e:!document.selection||((t=document.selection.createRange()).moveStart("character",-e),e===t.text.length)},onKeyPress:function(e){var t=this;if(t.disabled||t.visible||e.which!==r||!t.currentValue){if(!t.disabled&&t.visible){switch(e.which){case i:t.el.val(t.currentValue),t.hide();break;case l:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case n:if(t.hint&&t.options.onHint)return void t.selectHint();if(-1===t.selectedIndex)return void t.hide();if(t.select(t.selectedIndex),!1===t.options.tabDisabled)return;break;case a:if(-1===t.selectedIndex)return void t.hide();t.select(t.selectedIndex);break;case o:t.moveUp();break;case r:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else t.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case o:case r:return}clearTimeout(t.onChangeTimeout),t.currentValue!==t.el.val()&&(t.findBestHint(),0<t.options.deferRequestBy?t.onChangeTimeout=setTimeout(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var e,t,s,i;this.ignoreValueChange?this.ignoreValueChange=!1:(t=(e=this).options,s=e.el.val(),i=e.getQuery(s),e.selection&&e.currentValue!==i&&(e.selection=null,(t.onInvalidateSelection||g.noop).call(e.element)),clearTimeout(e.onChangeTimeout),e.currentValue=s,e.selectedIndex=-1,t.triggerSelectOnValidInput&&e.isExactMatch(i)?e.select(0):i.length<t.minChars?e.hide():e.getSuggestions(i))},isExactMatch:function(e){var t=this.suggestions;return 1===t.length&&t[0].value.toLowerCase()===e.toLowerCase()},getQuery:function(e){var t=this.options.delimiter;return t?(t=e.split(t))[t.length-1].trim():e},getSuggestionsLocal:function(t){var e=this.options,s=t.toLowerCase(),i=e.lookupFilter,n=parseInt(e.lookupLimit,10),e={suggestions:g.grep(e.lookup,function(e){return i(e,t,s)})};return n&&e.suggestions.length>n&&(e.suggestions=e.suggestions.slice(0,n)),e},getSuggestions:function(i){var e,t,s,n=this,a=n.options,o=a.serviceUrl;a.params[a.paramName]=i,!1!==a.onSearchStart.call(n.element,a.params)&&(e=a.ignoreParams?null:a.params,g.isFunction(a.lookup)?a.lookup(i,function(e){n.suggestions=e.suggestions,n.suggest(),a.onSearchComplete.call(n.element,i,e.suggestions)}):(s=n.isLocal?n.getSuggestionsLocal(i):(g.isFunction(o)&&(o=o.call(n.element,i)),t=o+"?"+g.param(e||{}),n.cachedResponse[t]))&&Array.isArray(s.suggestions)?(n.suggestions=s.suggestions,n.suggest(),a.onSearchComplete.call(n.element,i,s.suggestions)):n.isBadQuery(i)?a.onSearchComplete.call(n.element,i,[]):(n.abortAjax(),s={url:o,data:e,type:a.type,dataType:a.dataType},g.extend(s,a.ajaxSettings),n.currentRequest=g.ajax(s).done(function(e){n.currentRequest=null,e=a.transformResult(e,i),n.processResponse(e,i,t),a.onSearchComplete.call(n.element,i,e.suggestions)}).fail(function(e,t,s){a.onSearchError.call(n.element,i,e,t,s)})))},isBadQuery:function(e){if(this.options.preventBadQueries)for(var t=this.badQueries,s=t.length;s--;)if(0===e.indexOf(t[s]))return!0;return!1},hide:function(){var e=this,t=g(e.suggestionsContainer);g.isFunction(e.options.onHide)&&e.visible&&e.options.onHide.call(e.element,t),e.visible=!1,e.selectedIndex=-1,clearTimeout(e.onChangeTimeout),g(e.suggestionsContainer).hide(),e.onHint(null)},suggest:function(){var e,n,a,o,l,r,t,s,i,u,c,d;this.suggestions.length?(n=(e=this).options,a=n.groupBy,o=n.formatResult,l=e.getQuery(e.currentValue),r=e.classes.suggestion,t=e.classes.selected,s=g(e.suggestionsContainer),i=g(e.noSuggestionsContainer),u=n.beforeRender,c="",n.triggerSelectOnValidInput&&e.isExactMatch(l)?e.select(0):(g.each(e.suggestions,function(e,t){var s,i;a&&(c+=(i=(s=t).data[a],d===i?"":(d=i,n.formatGroup(s,d)))),c+='<div class="'+r+'" data-index="'+e+'">'+o(t,l,e)+"</div>"}),this.adjustContainerWidth(),i.detach(),s.html(c),g.isFunction(u)&&u.call(e.element,s,e.suggestions),e.fixPosition(),s.show(),n.autoSelectFirst&&(e.selectedIndex=0,s.scrollTop(0),s.children("."+r).first().addClass(t)),e.visible=!0,e.findBestHint())):this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function(){var e=this,t=e.options.beforeRender,s=g(e.suggestionsContainer),i=g(e.noSuggestionsContainer);this.adjustContainerWidth(),i.detach(),s.empty(),s.append(i),g.isFunction(t)&&t.call(e.element,s,e.suggestions),e.fixPosition(),s.show(),e.visible=!0},adjustContainerWidth:function(){var e,t=this.options,s=g(this.suggestionsContainer);"auto"===t.width?(e=this.el.outerWidth(),s.css("width",0<e?e:300)):"flex"===t.width&&s.css("width","")},findBestHint:function(){var i=this.el.val().toLowerCase(),n=null;i&&(g.each(this.suggestions,function(e,t){var s=0===t.value.toLowerCase().indexOf(i);return s&&(n=t),!s}),this.onHint(n))},onHint:function(e){var t=this,s=t.options.onHint,i="";e&&(i=t.currentValue+e.value.substr(t.currentValue.length)),t.hintValue!==i&&(t.hintValue=i,t.hint=e,g.isFunction(s))&&s.call(t.element,i)},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?g.map(e,function(e){return{value:e,data:null}}):e},validateOrientation:function(e,t){return e=(e||"").trim().toLowerCase(),e=-1===g.inArray(e,["auto","bottom","top"])?t:e},processResponse:function(e,t,s){var i=this,n=i.options;e.suggestions=i.verifySuggestionsFormat(e.suggestions),n.noCache||(i.cachedResponse[s]=e,n.preventBadQueries&&!e.suggestions.length&&i.badQueries.push(t)),t===i.getQuery(i.currentValue)&&(i.suggestions=e.suggestions,i.suggest())},activate:function(e){var t=this,s=t.classes.selected,i=g(t.suggestionsContainer),n=i.find("."+t.classes.suggestion);return i.find("."+s).removeClass(s),t.selectedIndex=e,-1!==t.selectedIndex&&n.length>t.selectedIndex?(i=n.get(t.selectedIndex),g(i).addClass(s),i):null},selectHint:function(){var e=g.inArray(this.hint,this.suggestions);this.select(e)},select:function(e){this.hide(),this.onSelect(e)},moveUp:function(){var e=this;-1!==e.selectedIndex&&(0===e.selectedIndex?(g(e.suggestionsContainer).children("."+e.classes.suggestion).first().removeClass(e.classes.selected),e.selectedIndex=-1,e.ignoreValueChange=!1,e.el.val(e.currentValue),e.findBestHint()):e.adjustScroll(e.selectedIndex-1))},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(e){var t,s,i,n=this,a=n.activate(e);a&&(t=g(a).outerHeight(),a=a.offsetTop,i=(s=g(n.suggestionsContainer).scrollTop())+n.options.maxHeight-t,a<s?g(n.suggestionsContainer).scrollTop(a):i<a&&g(n.suggestionsContainer).scrollTop(a-n.options.maxHeight+t),n.options.preserveInput||(n.ignoreValueChange=!0,n.el.val(n.getValue(n.suggestions[e].value))),n.onHint(null))},onSelect:function(e){var t=this,s=t.options.onSelect,e=t.suggestions[e];t.currentValue=t.getValue(e.value),t.currentValue===t.el.val()||t.options.preserveInput||t.el.val(t.currentValue),t.onHint(null),t.selection=e,g.isFunction(s)&&s.call(t.element,e)},getValue:function(e){var t,s=this.options.delimiter;return!s||1===(s=(t=this.currentValue).split(s)).length?e:t.substr(0,t.length-s[s.length-1].length)+e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),g(window).off("resize.autocomplete",this.fixPositionCapture),g(this.suggestionsContainer).remove()}},g.fn.devbridgeAutocomplete=function(s,i){var n="autocomplete";return arguments.length?this.each(function(){var e=g(this),t=e.data(n);"string"==typeof s?t&&"function"==typeof t[s]&&t[s](i):(t&&t.dispose&&t.dispose(),t=new u(this,s),e.data(n,t))}):this.first().data(n)},g.fn.autocomplete||(g.fn.autocomplete=g.fn.devbridgeAutocomplete)}),function(m){"use strict";etTheme.autoinit.ajaxSearch=etTheme.ajaxSearch=function(){m(".ajax-with-suggestions").each(function(){var s,n=m(this),e=n.find(".ajax-results-wrapper"),t=n.find("select"),i=n.find(".fancy-select"),a=etConfig.ajaxurl+"?action=etheme_ajax_search",o=n.find(".form-control"),l=(o.val(),n.hasClass("search-full-width-form")),r=n.find(".ajax-extra-content"),u=n.find(".clear"),c=n.attr("data-min"),d=n.attr("data-per-page"),g=n.attr("data-tabs"),p=n.find('input[name="lang"]'),h=!l,f=((etConfig.layoutSettings.is_mobile||m(this).parents(".et_b_mobile-panel-search").length)&&(h=!1),m(this).find("select").on("change",function(){var e=this.options[this.selectedIndex].text;m(this).find("option:selected").html(m(this).find("option:selected").html().replace(/&nbsp;/g,"")),m(this).css("max-width","calc("+(10+8*e.trim().length)+"px + 1.4em)")}),i.find(".fancy-placeholder-text").on("change",function(){var e=this.text();m(this).parent().parent().css("max-width","calc("+(10+8*e.trim().length)+"px + 1.4em)"),m(this).css("max-width","calc("+(10+8*e.trim().length)+"px + 1.4em)")}),t.length&&""!==t.val()&&(a+="&product_cat="+t.val()),p&&p.val()&&(a+="&lang="+p.val()),g||(a+="&show_count=true"),d&&(a+="&posts_per_page="+d),o.devbridgeAutocomplete({minChars:c||3,appendTo:e,triggerSelectOnValidInput:!1,serviceUrl:a,closeOnOutside:h,showNoSuggestionNotice:!0,noSuggestionNotice:etConfig.noresults,onSearchStart:function(){n.find(".search-button").addClass("loading"),l&&(n.parent().addClass("searching"),n.find(".autocomplete-suggestion, .ajax-results-title, .ajax-results-more").addClass("loaded"))},onSelect:function(e){l&&(n.find(".autocomplete-suggestions").attr("style",null),m(r).hide())},onSearchComplete:function(e,t){if(s=o.val(),n.find(".search-button").removeClass("loading"),n.find(".ajax-results-title, .ajax-results-more").remove(),l&&(t.length?n.find(".autocomplete-suggestions").attr("style",null):n.find(".autocomplete-no-suggestion").html(etConfig.noSuggestionNoticeWithMatches.replace("{{search_value}}","<b>"+s+"</b>")),m(r).hide()),g){let e=[];m.each(t,function(){e.push(this.type)}),1<(e=e.filter(function(e,t,s){return s.indexOf(e)===t})).length?(n.find(".autocomplete-suggestions").prepend('<div class="ajax-search-tabs et_b-tabs"></div>'),m.each(e,function(){m(".ajax-search-tabs").append('<span class="et-tab" data-tab="'+this+'">'+etConfig[this]+"</span>")}),m.each(n.find(".autocomplete-suggestion"),function(){m(this).addClass("et_b-tab-content").attr("data-tab-name",m(this).find(".ajax-list-image").attr("data-type"))}),m(".ajax-search-tabs").find(".et-tab").first().trigger("click")):!l&&5<=n.find(".autocomplete-suggestion").length&&m(n.find(".autocomplete-suggestions")).append('<div class="ajax-results-more full-width text-center flex"><button type="submit" class="btn black full-width">'+etConfig.show_all+"</button></div>")}else t.length&&(m.each(n.find(".autocomplete-suggestion"),function(){m(this).attr("data-tab-name",m(this).find("[data-type]").attr("data-type"))}),l||m(n.find(".autocomplete-suggestions")).append('<div class="ajax-results-more full-width text-center flex"><button type="submit" class="btn black full-width">'+etConfig.show_all+"</button></div>"),m.each(["Product","Pages","Post","Portfolio"],function(){var i=this,e=n.find('.autocomplete-suggestion [data-type="'+this+'"]').first();e.attr("data-count-all")&&e.parent().before('<h3 class="ajax-results-title products-title full-width" data-title-type="'+this+'">'+(l?etConfig[e.attr("data-type")+"_found"].replace("{{count}}",e.attr("data-count-all")):etConfig[e.attr("data-type")]+'<span class="results-count">'+etConfig[1<e.attr("data-count-all")?"items_found":"item_found"].replace("{{count}}",e.attr("data-count-all"))+"</span>")+"</h3>"),l&&m(n.find('.autocomplete-suggestion [data-type="'+this+'"]')).each(function(e,t){let s=4;e==(s="Pages"===m(this).attr("data-type")?5:s)&&0<(e=m(this).attr("data-count-all")-m(n.find('.autocomplete-suggestion [data-type="'+i+'"]')).length)&&m(this).parent().after('<div class="ajax-results-more full-width text-center"><button type="submit" class="btn black">'+etConfig.show_more.replace("{{count}}",e)+"</button></div>")})}),n.find(".autocomplete-suggestion, .ajax-results-title, .ajax-results-more").addClass("loaded"))},beforeRender:function(e){n.find(e).removeAttr("style"),r.removeAttr("style")},formatResult:function(e,t){n.addClass("ajax-results-shown");let s="",i="("+m.Autocomplete.utils.escapeRegExChars(t)+")";return"Product"==e.type&&(l&&!etConfig.layoutSettings.is_mobile?(s=(s=s+('<div class="content-product view-color-dark product-view-mask" data-type="'+e.type+'" data-count-all="'+e.all_count)+'"><div class="product-image-wrapper hover-effect-swap">')+'<a class="product-content-image" href="'+e.url+'">',e.in_stock||(s+=e.stock),e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s=(s=(s=(s+='</a><footer class="footer-product">')+"<a "+e.add_to_cart_args+">"+e.add_to_cart_text+"</a></footer>")+'</div><div class="product-details">')+'<p class="product-title"><a href="'+e.url+'">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")+"</a></p>",e.in_stock&&(s+=e.stock),e.price&&(s+='<div class="price">'+e.price+"</div>"),e.sku&&(s+='<span class="sku_wrapper">'+e.sku+"</span>"),s+="</div></div>"):(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s=(s=(s+='<div class="ajax-item-info">')+'<p class="product-title ajax-item-title">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")+"</p>")+e.stock,e.price&&(s+='<div class="price">'+e.price+"</div>"),e.sku&&(s+='<span class="sku_wrapper">'+e.sku+"</span>"),s+="</div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>")),"Post"==e.type&&(l&&!etConfig.layoutSettings.is_mobile?(s=(s=s+('<article class="'+e.post_class+'" data-type="'+e.type+'" data-count-all="'+e.all_count)+'"><div><div class="wp-picture blog-hover-zoom">')+'<a href="'+e.url+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s=(s=(s=(s+="</a></div>")+'<div class="grid-post-body"><div class="post-heading">')+'<h2><a href="'+e.url+'">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")+"</a></h2>")+e.meta+"</div>",s=(s=e.excerpt?(s+='<div class="content-article">')+e.excerpt+"</div>":s)+"</div></div></article>"):(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s=(s=(s+='<div class="ajax-item-info">')+'<p class="post-title ajax-item-title">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")+"</p>")+'<div class="post-date">'+e.date+"</div></div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>")),"Pages"==e.type&&(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s=(s=(s+='<div class="ajax-item-info">')+'<p class="pages-title ajax-item-title">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")+"</p>")+'<div class="post-date">'+e.date+"</div></div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>"),"Portfolio"==e.type&&(l&&!etConfig.layoutSettings.is_mobile?(s=(s=(s+='<div class="'+e.post_class+'" data-type="'+e.type+'" data-count-all="'+e.all_count+'">')+'<div class="portfolio-item-inner"><div class="portfolio-image">')+'<a href="'+e.url+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s=(s=(s=(s=(s=(s+='</a><div class="zoom">')+'<a href="'+e.url+'" class="btn-lightbox"></a></div>')+'</div><div class="portfolio-descr">')+'<span class="posted-in">'+e.categories+"</span>")+'<p class="project-title"><a href="'+e.url+'">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")+"</a></p></div>")+"</div></div>"):(s+='<a href="'+e.url+'" title="'+e.value+'" class="product-list-image ajax-list-image" data-type="'+e.type+'" data-count-all="'+e.all_count+'">',e.img&&(s+='<img width="270" height="160" src="'+e.img+'" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="">'),s=(s=(s+='<div class="ajax-item-info">')+'<p class="portfolio-title ajax-item-title">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")+"</p>")+'<div class="post-date">'+e.date+"</div></div>",e.arrow&&(s+=etConfig.ajaxSearchResultsArrow),s+="</a>")),n.find(".search-button").removeClass("loading"),s}}),o.devbridgeAutocomplete());t.length&&t.on("change",function(e){""!=t.val()?f.setOptions({serviceUrl:a+"&product_cat="+t.val()+(g?"":"&show_count=true")+(d?"&posts_per_page="+d:"")}):f.setOptions({serviceUrl:a+"&show_count=true"+(d?"&posts_per_page="+d:"")}),l&&!etConfig.layoutSettings.is_mobile&&f.setOptions({serviceUrl:a+"&full_screen=true&show_count=true"+(d?"&posts_per_page="+d:"")}),f.hide(),f.onValueChange()}),l&&!etConfig.layoutSettings.is_mobile&&(f.setOptions({serviceUrl:a+"&full_screen=true&show_count=true"+(d?"&posts_per_page="+d:""),preserveInput:!0}),m(n.find(".autocomplete-suggestions")).on("scroll",function(){m(n.find(".autocomplete-suggestion, .ajax-results-title, .ajax-results-more")).each(function(e,t){etTheme.isOnScreen(m(this))&&m(this).addClass("loaded")})}),m(n.find(".ajax-search-tags a").on("click",function(){o.val(m(this).text()),f.hide(),f.onValueChange(),n.addClass("ajax-results-shown")})),m(document).on("click",".ajax-search-history a",function(e){e.preventDefault(),o.val(m(this).text()),f.hide(),f.onValueChange(),n.addClass("ajax-results-shown")})),u.on("click",function(e){o.attr("value","").val(""),f.hide(),f.onValueChange(),n.removeClass("ajax-results-shown"),r.removeAttr("style"),n.parent().removeClass("searching")})}),m(document).on("submit",".ajax-search-form",function(){var n,a=m(this).find('input[name="s"]').val();if(a&&"popup"==etConfig.search_type&&etConfig.is_search_history){let e=etTheme.getCookie("et_search_history"),t=[],s=m(".ajax-search-history"),i=s.find(".et_history-title");s.addClass("active"),e.length&&(t=JSON.parse(e)).includes(a)?(n=t.indexOf(a),t.splice(n,1),t.push(a),m('[data-s="'+a+'"]').remove()):t.push(a);t.length>etConfig.search_history_length&&(t.shift(),s.find("a").last().remove());i.after('<a href="" data-s="'+a+'">'+a+"</a>"),t=JSON.stringify(t),etTheme.setCookie("et_search_history",t,etConfig.search_ajax_history_time)}}),m(".et_clear-history").on("click",function(){m(".ajax-search-history").removeClass("active"),etTheme.deleteCookie("et_search_history")})}}(jQuery);