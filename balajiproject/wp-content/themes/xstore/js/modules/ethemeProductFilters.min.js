!function(p){"use strict";p(window).on("elementor/frontend/init",function(){var t=elementorModules.frontend.handlers.Base.extend({onInit:function(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),this.run()},getDefaultSettings:function(){return{selectors:{form:".etheme-product-filters",title:".etheme-product-filters-item-title",item:".etheme-product-filters-item",filterItem:".filter-item",itemContent:".etheme-product-filters-item-content",priceSlider:".etheme_price_slider",priceSliderNotRendered:".etheme_price_slider:not(.ui-slider)",minPrice:"#min_price",maxPrice:"#max_price",priceLabel:".price-label",priceSliderAmount:".price_slider_amount",resultInput:".result-input",quickResults:".etheme-product-filters-quick-results",quickResultsLi:".etheme-product-filters-quick-results li"},options:{svg_delete_icon:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width=".75em" height=".75em" viewBox="0 0 24 24">\n<path d="M13.056 12l10.728-10.704c0.144-0.144 0.216-0.336 0.216-0.552 0-0.192-0.072-0.384-0.216-0.528-0.144-0.12-0.336-0.216-0.528-0.216 0 0 0 0 0 0-0.192 0-0.408 0.072-0.528 0.216l-10.728 10.728-10.704-10.728c-0.288-0.288-0.768-0.288-1.056 0-0.168 0.144-0.24 0.336-0.24 0.528 0 0.216 0.072 0.408 0.216 0.552l10.728 10.704-10.728 10.704c-0.144 0.144-0.216 0.336-0.216 0.552s0.072 0.384 0.216 0.528c0.288 0.288 0.768 0.288 1.056 0l10.728-10.728 10.704 10.704c0.144 0.144 0.336 0.216 0.528 0.216s0.384-0.072 0.528-0.216c0.144-0.144 0.216-0.336 0.216-0.528s-0.072-0.384-0.216-0.528l-10.704-10.704z"></path>\n</svg>',openClass:"opened",activeClasses:"chosen selected"}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$form:this.$element.find(e.form),$title:this.$element.find(e.title),$item:this.$element.find(e.item),$filterItem:this.$element.find(e.filterItem),$itemContent:this.$element.find(e.itemContent),$priceSlider:this.$element.find(e.priceSlider),$priceSliderNotRendered:this.$element.find(e.priceSliderNotRendered),$minPrice:this.$element.find(e.minPrice),$maxPrice:this.$element.find(e.maxPrice),$priceLabel:this.$element.find(e.priceLabel),$priceSliderAmount:this.$element.find(e.priceSliderAmount),$resultInput:this.$element.find(e.resultInput),$quickResults:this.$element.find(e.quickResults),$quickResultsLi:this.$element.find(e.quickResultsLi)}},itemClickAction:function(){var o=this.getSettings("selectors"),c=this.getSettings("options");this.elements.$title.on("click",function(e){if(p(e.target).closest("[data-q-value]").length){var i,s,r,n,l=p(this).parent();let t=p(e.target).closest("[data-q-value]").attr("data-q-value");return"price"===t?(r=(i=p(this).parents(o.item)).find(o.minPrice),n=i.find(o.maxPrice),a=r.data("min"),s=n.data("max"),r.val(a),n.val(s),p(i).find(o.priceSlider).slider("values",[a,s]),i.find("[data-q-value]").hide(),void p(document.body).trigger("etheme_price_slider_slide",[a,s,i])):((n=(r=l.find(o.resultInput)).val().split(",")).splice([n.findIndex(e=>e===t)],1),r.val(n.join(",")),l.find('[data-value="'+t+'"]').parent().removeClass(c.activeClasses),void p(e.target).remove())}var a=p(this).parent();a.prevAll().removeClass(c.openClass).find(".etheme-product-filters-item-content").slideUp(),a.nextAll().removeClass(c.openClass).find(".etheme-product-filters-item-content").slideUp(),a.hasClass(c.openClass)?a.removeClass(c.openClass):a.addClass(c.openClass),p(this).next().slideToggle()})},filterItemAction:function(){var o=this.getSettings("selectors"),c=this.getSettings("options");this.elements.$filterItem.on("click",function(e){e.preventDefault();let t=p(this).parent(),i=!1;t.hasClass(c.activeClasses)?(i=!0,t.removeClass(c.activeClasses)):(i=!1,t.addClass(c.activeClasses));var e=p(this).parents(o.item),s=e.data("limit")??"",r=e.find(o.quickResults),n=e.find(o.resultInput),l=n.val(),l=l?l.split(","):l.split("");let a=p(this).data("value").toString();s&&(e.find(".selected.chosen").length>=s&&e.removeClass(c.openClass).find(o.itemContent).slideUp(),l.length>=s)&&(l.shift(),s=r.find("[data-q-value]").first(),e.find('[data-value="'+s.attr("data-q-value")+'"]').parent().removeClass(c.activeClasses),s.remove()),-1<l.indexOf(a)?(l.splice([l.findIndex(e=>e===a)],1),r.find('[data-q-value="'+a+'"]').remove()):i||(l.push(a),r.append('<span data-q-value="'+a+'">'+c.svg_delete_icon+p(this).text()+"</span>")),n.val(l.join(","))})},quickResultsAction:function(){var e=this.getSettings("selectors");this.elements.$quickResultsLi.on("click",function(){p(this).parents(e.item);p(this).remove()})},customTriggers:function(){var m,u;"undefined"!=typeof woocommerce_price_slider_params&&(m=this.getSettings("selectors"),u=this.getSettings("options"),p(document.body).on("etheme_price_slider_create etheme_price_slider_slide",function(e,t,i,s){var r=s.find("span.from"),s=s.find("span.to"),n=accounting.formatMoney(t,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),l=accounting.formatMoney(i,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format});r.html(n),s.html(l),p(document.body).trigger("price_slider_updated",[t,i])}),p.each(this.elements.$priceSliderNotRendered,function(){var i=p(this),s=i.parents(m.item),r=s.find(m.minPrice),n=s.find(m.maxPrice),e=s.find(m.priceLabel),t=s.find(m.priceSliderAmount),l=s.find(m.quickResults+" > span"),a=(l.prepend(u.svg_delete_icon),r.hide(),n.hide(),r.data("min")),o=n.data("max"),t=t.data("step")||1,c=r.val(),d=n.val();i.show(),e.show(),i.slider({range:!0,animate:!0,min:a,max:o,step:t,values:[c,d],create:function(){r.val(c),n.val(d),p(document.body).trigger("etheme_price_slider_create",[c,d,s])},slide:function(e,t){r.val(t.values[0]),n.val(t.values[1]),p(document.body).trigger("etheme_price_slider_slide",[t.values[0],t.values[1],s]),l.show()},change:function(e,t){p(document.body).trigger("etheme_price_slider_change",[t.values[0],t.values[1],i])}})}))},run:function(){this.itemClickAction(),this.filterItemAction(),this.quickResultsAction(),this.customTriggers()}});elementorFrontend.hooks.addAction("frontend/element_ready/etheme_product_filters.default",function(e){elementorFrontend.elementsHandler.addHandler(t,{$element:e})})})}(jQuery);