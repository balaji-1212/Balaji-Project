!function(i){"use strict";etTheme.autoinit.cart_checkout_advanced=etTheme.cart_checkout_advanced=function(){function c(e=!0){var t;i(".etheme-cart-checkout-tab").length&&(t=i(".sales-booster-cart-countdown, .woocommerce-form-login-toggle, .woocommerce-form-coupon-toggle"),e?t.hide():t.show())}var a;let t=i(".etheme-cart-checkout-accordion");if(t.length||i(".etheme-cart-checkout-tab").length){var o=window.location.search,o=new URLSearchParams(o);if(o.has("step")){let e=o.get("step");t.length?setTimeout(function(){i("html, body").animate({scrollTop:i(".etheme-cart-checkout-accordion[data-step="+e+"]").offset().top-(i(".site-header").hasClass("sticky")?i(".site-header").outerHeight():0)-15})},100):"billing"==e?c(!1):c()}}t.on("click",".accordion-title",function(){let e=i(this).parents(".etheme-cart-checkout-accordion");e.hasClass("active")?(e.removeClass("active"),e.find(".accordion-content").slideUp()):(t.removeClass("active").find(".accordion-content").slideUp(),e.addClass("active"),e.find(".accordion-content").slideDown(),etTheme.et_global.w_width<=768&&setTimeout(function(){i("html, body").animate({scrollTop:e.offset().top-(i(".site-header").hasClass("sticky")?i(".site-header").outerHeight():0)-20},1e3)},500),i(".cart-checkout-nav-simple .active").removeClass("active"),i(".cart-checkout-nav-simple [data-step="+e.attr("data-step")+"]").addClass("active"),i(document.body).trigger("sticky_kit:recalc"))}),i(document).on("click",".accordion-content .etheme-checkout-footer-step",function(e){var t=i(this).attr("data-step");t&&(e.preventDefault(),i(".etheme-cart-checkout-accordion[data-step="+t+"] .accordion-title").trigger("click"),i(".cart-checkout-nav-simple .active").removeClass("active"),i(".cart-checkout-nav-simple [data-step="+t+"]").addClass("active"))}),i(document).on("click",".tab-content .etheme-checkout-footer-step",function(t){var a=i(this).attr("data-step");if(a){t.preventDefault(),i(".cart-checkout-nav-simple .active").removeClass("active"),i(".cart-checkout-nav-simple [data-step="+a+"]").addClass("active"),i(".etheme-cart-checkout-tab").hide();let e=i(".etheme-cart-checkout-tab[data-step="+a+"]");e.fadeIn(),etTheme.et_global.w_width<=768&&setTimeout(function(){i("html, body").animate({scrollTop:e.offset().top-(i(".site-header").hasClass("sticky")?i(".site-header").outerHeight():0)-20},1e3)},300),i(document.body).trigger("sticky_kit:recalc"),"billing"==a?c(!1):c()}}),i(".cart-checkout-separated, .cart-checkout-multistep").on("click",".cart-checkout-nav-simple [data-step]",function(e){var t;i(this).hasClass("active")?e.preventDefault():(t=i(this).attr("data-step"),-1<i.inArray(t,["shopping-cart","order"])||(e.preventDefault(),i(".etheme-checkout-footer-step[data-step="+i(this).attr("data-step")+"]").first().trigger("click")))}),i(document).on("updated_cart_totals",function(){i(document.body).trigger("sticky_kit:recalc");var t=i(document).find(".et-cart-progress");t.length&&(t.block({message:null,overlayCSS:{opacity:.6}}),i.ajax({url:etConfig.ajaxurl,dataType:"json",method:"POST",data:{action:"etheme_update_cart_checkout_progress_bar"},success:function(e){t.replaceWith(e).unblock()}}))}),i(".content-page .et-advanced-label").on("keyup validate","input, textarea",function(){var e=i(this),t=i(e).parents(".et-advanced-label");i(t).length&&i(t).find("label[for]:not(.screen-reader-text)").length&&(""!==i(e).val()?i(t).hasClass("et-validated")||i(t).addClass("et-validated"):i(t).removeClass("et-validated"))}).on("focusin","input, textarea",function(){var e=i(this),e=i(e).parents(".et-advanced-label");i(e).length&&i(e).find("label[for]:not(.screen-reader-text)").length&&i(e).addClass("et-validated")}).on("focusout","input, textarea",function(){var e=i(this),t=i(e).parents(".et-advanced-label");i(t).length&&i(t).find("label[for]:not(.screen-reader-text)").length&&""===i(e).val()&&i(t).removeClass("et-validated")}).on("change validate","select",function(){var e=i(this),t=i(e).parents(".et-advanced-label");i(t).length&&i(t).find("label[for]:not(.screen-reader-text)").length&&(""===i(e).val()||i(t).hasClass("et-validated")||i(t).addClass("et-validated"))}),i(".content-page .et-advanced-label").find("input, textarea").trigger("validate"),i(".content-page .et-advanced-label").find("select").trigger("validate"),993<=etTheme.et_global.w_width&&(a=i(".woocommerce-cart .cart-order-details, .woocommerce-checkout .cart-order-details .order-review"),i(document).on("click",a,function(e){var t;-1<i.inArray(e.target.tagName,["INPUT","TEXTAREA","SELECT","LABEL"])||(t=i(this).height(),setTimeout(function(){var e=a.height();t!==e&&i(document.body).trigger("sticky_kit:recalc")},100))}),o={offset_top:i("#header").hasClass("sticky")?i("#header > div").outerHeight():50,bottoming:!0,parent:".checkout-columns-wrap"},i("body").hasClass("cart-checkout-separated")&&(o.offset_top=0),a.stick_in_parent(o))}}(jQuery);