window.et_panel=window.et_panel||{},function(t){t(document).ready(function(s){window.et_panel=Object.assign(window.et_panel,{plugins_page_actions:function(e,t){var a,n,l,i,o,r;s(".et_plugin-nonce").length&&(a=e.parents(".et_plugin"),n=a.attr("data-filter"),l=s(".error-text").text(),i={action:"envato_setup_plugins",helper:"plugins",type:"et_plugins_actions",slug:e.attr("data-slug"),wpnonce:s(document).find(".et_plugin-nonce").attr("data-plugin-nonce")},o=e.attr("data-action"),r=a.find(".plugin-action-text"),s(".et_filesystem").attr("data-filesystem")?(s(".et_plugin-control").css({"pointer-events":"none"}),a.addClass("in_progress"),"deactivate"==o?r.text(r.attr("data-deactivate")):"install"==o?r.text(r.attr("data-install")):"activate"==o?r.text(r.attr("data-activate")):"update"==o&&r.text(r.attr("data-update")),"deactivate"==e.attr("data-action")?(i.action="et_plugins_actions",i.type=e.attr("data-action"),s.ajax({method:"POST",url:ajaxurl,data:i,success:function(t){n=n.replace("active","disabled"),a.attr("data-filter",n),a.removeClass("et_plugin-active"),a.removeClass("in_progress"),a.find('.et_plugin-control[data-action="activate"]').removeClass("hidden"),a.find('.et_plugin-control[data-action="deactivate"]').addClass("hidden"),s('.plugin-filter[data-filter="all"]').trigger("click"),et_panel.et_delete_transient("etheme_plugins_info")},error:function(t){r.text(""),a.removeClass("in_progress"),alert(l)},complete:function(t){s(".et_plugin-control").css({"pointer-events":"all"}),r.text("")}})):s.ajax({method:"POST",url:ajaxurl,data:i,success:function(t){""!=t.hash?s.ajax({method:"POST",url:t.url,data:t,success:function(t){t=et_panel.check_data(t);t?alert(t):(a.find('.et_plugin-control[data-action="update"]').addClass("hidden"),a.find('.et_plugin-control[data-action="activate"]').addClass("hidden"),a.find('.et_plugin-control[data-action="install"]').addClass("hidden"),a.find('.et_plugin-control[data-action="deactivate"]').removeClass("hidden")),n=n.replace("disabled","active"),a.attr("data-filter",n),a.addClass("et_plugin-active"),a.removeClass("in_progress"),"update"==e.attr("data-action")&&(a.find(".current-version").html("v."+a.find(".new-version").html()),a.find(".new-version-text").addClass("hidden")),s('.plugin-filter[data-filter="all"]').trigger("click"),a.attr("data-redirect")&&(window.location=a.attr("data-redirect"))},error:function(){a.removeClass("in_progress"),r.text(""),alert(l)},complete:function(){s(".et_plugin-control").css({"pointer-events":"all"}),r.text("")}}):(r.text(""),alert(l))},error:function(t){r.text(""),alert(l)},complete:function(t){}})):alert(l))},check_data:function(t){return t.includes("Destination folder already exists")?"Plugin installation failed, destination folder already exists":!(!t.includes("Plugin installation failed")&&!t.includes("An error occurred while installing"))&&"Plugin installation failed"},et_delete_transient:function(t){t={action:"et_delete_transient",helper:"plugins",transient:t,wpnonce:s(document).find(".et_plugin-nonce").attr("data-plugin-nonce")};s.ajax({method:"POST",url:ajaxurl,data:t,success:function(t){},error:function(t){},complete:function(t){}})},plugins_plugins_search:function(t,e){et_panel.panel_global_search(t,".etheme-search",".et_plugin",".et_plugin-name",function(){s(".et_plugin").removeClass("et-hide").removeClass("et-show"),s('.versions-filter[data-filter="all"]').trigger("click")})},plugins_plugins_filter:function(t,e){let a=t.attr("data-filter");s(".plugin-filter").removeClass("active"),t.addClass("active"),s.each(s(".et_plugin"),function(){var t=s(this);t.attr("data-active-filter",a),-1!=t.attr("data-filter").indexOf(a)?t.removeClass("et-hide").removeClass("et-show"):t.removeClass("et-show").addClass("et-hide")}),t.parent().removeClass("active")}});var t={1:{selector:".et_plugin-control",type:"click",callback:et_panel.plugins_page_actions},2:{selector:".etheme-plugin-search",type:"keyup",callback:et_panel.plugins_plugins_search},3:{selector:".plugin-filter",type:"click",callback:et_panel.plugins_plugins_filter}};s.each(t,function(t,e){"ready"==e.type?s(document).ready(function(t){e.callback(s(this),t)}):s(e.selector).on(e.type,function(t){e.callback(s(this),t)})}),"function"==typeof lazyload&&(s(document).find(".lazyload:not(.zoomImg, .et-lazy-loaded, .rs-lazyload)").lazyload(),window.elementorFrontend)&&elementorFrontend.elements.$document.on("elementor/popup/show",function(){s(document).find(".lazyload:not(.zoomImg, .et-lazy-loaded, .rs-lazyload)").lazyload()})})}(jQuery,window.et_panel);