window.et_panel=window.et_panel||{},function(e){e(document).ready(function(n){window.et_panel=Object.assign(window.et_panel,{instagram_save_options:function(e,a){a.preventDefault(),n(".etheme-instagram-save-info").addClass("hidden"),confirm("Are you sure ?")&&(n(".etheme-instagram-settings").addClass("processing"),a={action:"et_panel_ajax",action_type:"et_instagram_save_settings",time:n("#instagram_time").val(),time_type:n("#instagram_time_type").val(),escape_albums:n("#escape_albums").prop("checked")},n.ajax({type:"POST",url:ajaxurl,data:a,success:function(e){("success"==e.type?n(".etheme-instagram-save-info.info-success"):n(".etheme-instagram-save-info.info-error")).removeClass("hidden"),n(document).find(".etheme-instagram-reinit")[0].click()},error:function(){alert("Error while deleting")},complete:function(){n(".etheme-instagram-settings").removeClass("processing")}}))},instagram_toogle_manual:function(e,a){a.preventDefault();a=n(".etheme-instagram-manual-form");a.hasClass("hidden")?a.removeClass("hidden"):a.addClass("hidden")},instagram_connect_manual:function(e,a){var t;a.preventDefault(),confirm("Are you sure")&&(t=e.parent(),(a={action:"et_panel_ajax",action_type:"et_instagram_user_add",token:n("#etheme-manual-token").val()}).token?(t.find(".etheme-form-error").addClass("hidden"),n.ajax({type:"POST",url:ajaxurl,data:a,dataType:"JSON",success:function(e){"success"!=e.status?(t.find(".etheme-form-error-holder").text(""),t.find(".etheme-form-error-holder").text(e.msg),t.find(".etheme-form-error-holder").removeClass("hidden")):location.reload()},error:function(){alert("Error while deleting")},complete:function(){}})):t.find(".etheme-form-error").removeClass("hidden"))},instagram_user_remove:function(e,a){var t;a.preventDefault(),confirm("Are you sure")&&(a={action:"et_panel_ajax",action_type:"et_instagram_user_remove",token:(t=e.parents(".etheme-user")).find(".user-token").attr("data-token")},n.ajax({type:"POST",url:ajaxurl,data:a,success:function(e){"success"==e.status&&(n(".etheme-user").length<2&&n(".etheme-no-users").removeClass("hidden"),t.remove())},error:function(){alert("Error while deleting")},complete:function(){}}))},instagram_socials_tabs:function(e,a){n(".etheme-social-tabs li").removeClass("active"),e.addClass("active"),n(".etheme-social-tab").addClass("hidden"),n(".etheme-social-"+e.attr("data-network")).removeClass("hidden")},instagram_save_network_options:function(a,e){e.preventDefault(),confirm("Are you sure ?")&&(a.parents(".etheme-div").find(".etheme-network-save-info").addClass("hidden"),a.closest(".etheme-div").addClass("processing"),console.log(a.closest("form").serializeArray()),e={action:"etheme_update_network",helper:"instagram",form:a.closest("form").serializeArray()},n.ajax({type:"POST",url:ajaxurl,data:e,success:function(e){("success"==e.status?a.parents(".etheme-div").find(".etheme-network-save-info.info-success"):a.parents(".etheme-div").find(".etheme-network-save-info.info-error")).removeClass("hidden")},error:function(){alert("Error while deleting")},complete:function(){a.closest(".etheme-div").removeClass("processing")}}))},instagram_call_popup:function(a,e){e.preventDefault(),a.addClass("et-no-events");var t=n(".et_panel-popup");t.html(""),n.ajax({method:"POST",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"instagram",personal:a.attr("data-personal"),business:a.attr("data-business")},success:function(e){t.addClass("loading"),n("body").addClass("et_panel-popup-on"),t.prepend('<span class="et_close-popup et-button-cancel et-button"><i class="et-admin-icon et-delete"></i></span>'),t.addClass("panel-popup-import").append(e.content),a.hasClass("etheme-instagram-auto")&&t.addClass("panel-popup-etheme-instagram-auto"),t.addClass("active").removeClass("loading"),n("#personal").on("change",function(){n(".et-get-token").attr("href",n(this).attr("data-url"))}),n("#business").on("change",function(){n(".et-get-token").attr("href",n(this).attr("data-url"))}),n("#old").on("change",function(){n(".et-get-token").attr("href",n(this).attr("data-url"))}),n(".et-help").on("click",function(){n(this).parent().find(".et-help-content:not(.tooltip)").toggleClass("hidden")})},complete:function(){a.removeClass("et-no-events")}})},instagram_load_social_avatar:function(e,a){e.prop("checked")?(e.attr("value","on"),n("#load_social_avatar_value").attr("value","on")):(e.attr("value","off"),n("#load_social_avatar_value").attr("value","off"))},instagram_social_login_on_checkout:function(e,a){e.prop("checked")?(e.attr("value","on"),n("#social_login_on_checkout_value").attr("value","on")):(e.attr("value","off"),n("#social_login_on_checkout_value").attr("value","off"))}});var e={1:{selector:".etheme-instagram-settings .etheme-instagram-save",type:"click",callback:et_panel.instagram_save_options},2:{selector:".etheme-instagram-manual",type:"click",callback:et_panel.instagram_toogle_manual},3:{selector:".etheme-manual-btn",type:"click",callback:et_panel.instagram_connect_manual},4:{selector:".etheme-user .user-remove",type:"click",callback:et_panel.instagram_user_remove},5:{selector:".etheme-social-tabs li",type:"click",callback:et_panel.instagram_socials_tabs},6:{selector:".etheme-network-save",type:"click",callback:et_panel.instagram_save_network_options},7:{selector:".etheme-call-popup",type:"click",callback:et_panel.instagram_call_popup},8:{selector:"#load_social_avatar",type:"change",callback:et_panel.instagram_load_social_avatar},9:{selector:"#social_login_on_checkout",type:"change",callback:et_panel.instagram_social_login_on_checkout}};n.each(e,function(e,a){"ready"==a.type?n(document).ready(function(e){a.callback(n(this),e)}):n(a.selector).on(a.type,function(e){a.callback(n(this),e)})})})}(jQuery,window.et_panel);